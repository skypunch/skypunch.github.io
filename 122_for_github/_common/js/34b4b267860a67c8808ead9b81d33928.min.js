/** @license
 * Activity Builder Copyright (C) 2013-2016 Infuze Ltd <enq@infuze.co.uk>, All Rights Reserved.
 */
require.config({shim:{velocity:["jquery"]},waitSeconds:30}),function(o,n,l){var os="/",Dt="jquery",Ke="activity",li="common",rs="_const",xn="api",cs="modernizr",Fn="velocity",Un="velocity-ui",Ge="rate",xs=Ge+os+Ge;define("api",[Dt,Ke],function(a,r){function g(){}function M(t,e,i,s){try{if(t.apply(i,s)===!1)return!1}catch(t){n.console.error("Exception in API("+e+"): ",t,t.stack)}}function h(t,e){p=p||{},p[t]=e}var u,b,p,x=[],S=r.abcAlwaysModules=r.abcAlwaysModules||{},m=r.abcModulesIndex=r.abcModulesIndex||{},_=r.abcModulesGlobal=r.abcModulesGlobal||{},c=r.abcModules={_data:{}};return r.API=g,g.pause=function(t){t===!0?r._paused=t:(r._paused=!1,r[j]())},g.addModule=n.addModule=function(n,s){if(c[n]=s,s.always&&(S[n]=s),r.api_started){var i,e,a={};for(i=0;r.count>i;i++)a["#activity_"+(i+1)]=r[i][t](["_path"],i);for(b=n,r.api(Qe,a),i=0;r.count>i;i++)if(e=r[i],e[Tt]=null,e._loaded){if(r.api(xt,e.baseId,e.doNotMark?{}:e.persistData),!r.loaded)continue;r.CurrentActivity===e.index&&r.api(ui,e.baseId),e.doNotMark||r.api(Nt,e.baseId,e.persistData),r.started&&r.CurrentActivity===e.index&&r.api(we,e.baseId,null),r.api(Se,e.baseId),r.api(Ce,e.baseId)}b=null}},g.useModule=n.useModule=function(t,l,n){if(!c[t]&&r.commonPath){var s=d+e+t+e+Xe;if(!r.parent.children(Ot+"[src*='"+s+"']").length){var i=o.createElement("script");i.type=_t+_i+Ti+Ot,i.src=r.commonPath+s,r.parent[0].appendChild(i)}}m[t]=m[t]||[],a.currentHandler[v]=a.currentHandler[v]||{},a.currentHandler[v][t]={data:l,index:m[t].length},delete a.currentHandler[Tt],m[t].push(a.currentHandler.baseId),a.isPlainObject(n)&&(c._data[t]=c._data[t]||{},a.extend(!0,c._data[t],n,{name:t}))},r.api=function(o,w,f){if(w&&!(x.indexOf(o)>-1)){var h,l,y,s,t,n,d=[],C=a.currentHandler,i=r[w],g=i instanceof r;g?(a.currentHandler=i,f=[].slice.call(arguments,2),n=i[Tt],n||(n=i[Tt]=a.extend({},S,i[v]))):(i={},f=[].slice.call(arguments,1),n=r.abcModules),x.push(o);for(t in n)n.hasOwnProperty(t)&&a.isPlainObject(c[t])&&c[t][o]&&(!b||b===t)&&d.push(t);for(d.sort(function(t,e){return(c[t].nice||0)-(c[e].nice||0)}),h=0;d.length>h;h++){if(t=d[h],!s){if(s={},g)for(l in p)p.hasOwnProperty(l)&&(s[l]=p[l].bind(i));s.readonly=!!r._readonly,s.ext=e+D,s.setreadonly=function(t){!r._readonly&&t&&(r._readonly=u.readonly=s.readonly=!0)},g&&"load"===o&&(s.removeModule=function(){var e,i,n=this[v][t].index;for(e=0;r.count>e;e++)i=r[e],i[v][t]&&i[v][t].index>n&&i[v][t].index--;delete this[v][t]}.bind(i))}u=a.extend(!0,[],m[t],c._data[t],s,{id:i.baseId,uuid:i.data&&i.data._uuid,global_uuid:r.uuid,type:i.type,_type:i._type,module:t,active:r.handler===i,running:r.loaded}),n[t].hasOwnProperty(si)&&(u.index=n[t].index),n[t].hasOwnProperty(Ss)?u.data=n[t].data:_[t]&&(u.data=_[t]),M(c[t][o],t+e+o,u,f)===!1&&(y=!1)}return x.pop(),a.currentHandler=C,y}},h(Fi,function(t){a.isNumber(t)&&(t="#activity_"+t);for(var e=0;r.count>e;e++)if(r[e].baseId===t)return r[w](e),!0;return!1}),h(Ce,function(){this&&this===r.handler&&r[F]()}),h(Ii,function(i,e,n){return this&&JSON.parse(JSON.stringify(this[t](i,e===l?null:e,n)))}),h(Nt,function(t){return this&&JSON.parse(JSON.stringify(this[s](t)))}),h(Yt,function(t,e){return this&&this.timer(t,e)}),h(P,function(t,e,i){return this&&this[pe](t,e,i)}),h(ge+"_"+W,function(t){return this?this.countLeft(t):0}),h(ge+"_"+_n,function(t){return this?this.countTotal(t):1}),h(ge+"_"+ht,function(t){return this?this.countLeft(t):0}),h(Wt,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableSubmit"],!t),a.isBoolean(e)&&this[y]([i,"hideSubmit"],e),this.initList();else{var n=this._btnSubmit;this._btnSubmit=!0,this.onSubmit(t),this._btnSubmit=n}}),h(Te,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableReset"],!t),a.isBoolean(e)&&this[y]([i,"hideReset"],e),this.initList();else{var n=this._btnReset;this._btnReset=!0,this.onReset(t),this._btnReset=n}}),h(Ae,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableReveal"],!t),a.isBoolean(e)&&this[y]([i,"hideReveal"],e),this.initList();else{var n=this._btnReveal;this._btnReveal=!0,this.onReveal(t),this._btnReveal=n}}),h(ve,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableFirst"],!t),a.isBoolean(e)&&this[y]([i,"hideFirst"],e),this.initList();else{var n=this._btnFirst;this._btnFirst=!0,this.onFirst(t),this._btnFirst=n}}),h(W,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableLeft"],!t),a.isBoolean(e)&&this[y]([i,"hideLeft"],e),this.initList();else{var n=this._btnLeft;this._btnLeft=!0,this.onLeft(t),this._btnLeft=n}}),h(ht,function(t,e){if(this)if(a.isBoolean(t))this[y]([i,"disableRight"],!t),a.isBoolean(e)&&this[y]([i,"hideRight"],e),this.initList();else{var n=this._btnRight;this._btnRight=!0,this.onRight(t),this._btnRight=n}}),h(Ni,function(t){return this&&this[f](t)}),h(ri,function(t,e,i,n){return this&&this.dialog(t,e,i,n)}),g}),define("activity",[Dt,li,rs],function(_,N){function re(){if(!re.done){re.done=!0;var t=navigator.userAgent.toLowerCase();-1!==t.indexOf("safari/")&&-1!==t.indexOf("windows")&&alert("Please install QuickTime to enable Audio or Video in Safari on Windows")}}function o(){}function Ze(t){if(Ke&&(n.navigator.standalone&&t.css(ki,1+Y),t.is(mt)))try{var e=function(){n.scrollTo(0,1)},i=function(){_(ne+b+mt).css(Fe,n.innerHeight).css(ii,n.innerWidth)};_(n).on(ci,e).on(vs,i),i(),setTimeout(e,1e3)}catch(t){}}function Ge(){try{o.parent.find(q+b+te).pause()}catch(t){}}function Xt(t){_(e+Lt).not(t).velocity(Be,function(){_(this).remove()})}function Me(t){var e=t.touches?t.changedTouches[0]:t,i=o.mouse;i.x=e.pageX,i.y=e.pageY}function de(){var t,e;for(t=0;o.count>t;t++)if(e=o[t],!e._visible){if(!(kt+250>Date.now()))return _.rAF(function(){kt=Date.now(),de()}),l;o[F](!1,e)}_(n).resize()}function Dt(e,i,n){return e[x]()?!1:n?!!e[t]([r,"letters"]):i&&(e.navigationTitle||e[t]([r,"letters"])||e[t]([r,"pageNumber"]))?!1:!0}function je(){try{for(var t=n;t.parent!==t&&!t.closeABC;)t=t.parent;t.closeABC&&(this.btnClose=N(g,un).on(A,function(){for(var t=n;t.parent!==t&&!t.closeABC;)t=t.parent;t.closeABC&&t.closeABC()}))}catch(t){}}function ze(){var i=!0,s=function(t){var e=t[Bt];return-1===e&&(e=t[O]),e?(t[I]?t[At]?t[k]?e*Math.min(1,(t[k]+t[D])/(t[O]-t[D])):0:"?":"-")+" / "+e:"-"};o.API.addModule(ke,{always:!0,nice:5,startup:function(){_.stylesheet({"#abc>.abc-activities>.showPath>.abc-slideout":"position:absolute;top:0;left:0;right:0;margin:0;text-align:center;z-index:1000;padding:0;pointer-events:all;user-select:all;font-family:sans-serif;font-size:16px;","#abc>.abc-activities>.showPath>.abc-slideout>div":"display:none;background:lightgrey;border:2px solid red;border-bottom-left-radius:0.25em;border-bottom-right-radius:0.25em;vertical-align:bottom;border-top:none;","#abc>.abc-activities>.showPath>.abc-slideout>div>table":"border-collapse:separate;border-spacing:1px;margin:0;padding:0.5em;width:auto;","#abc>.abc-activities>.showPath>.abc-slideout>div>table td":"padding:0.1em;width:auto;vertical-align:bottom;","#abc>.abc-activities>.showPath>.abc-slideout>div>table td:first-child":"text-align:right;","#abc>.abc-activities>.showPath>.abc-slideout>div>table td+td":"background:white;border-radius:3px;","#abc>.abc-activities>.showPath>.abc-slideout>div>table td+td>input":"border:none;padding:1px 3px;width:15em;cursor:text;","#abc>.abc-activities>.showPath>.abc-slideout>div[style*=inline]+span":"border-bottom-width:1em;","#abc>.abc-activities>.showPath>.abc-slideout>span":"display:block;width:5em;margin:0 auto;border-bottom:0.5em solid red;border-bottom-left-radius:0.5em;border-bottom-right-radius:0.5em;","#abc>.abc-activities>.showPath>.abc-slideout>span:hover":"border-bottom-width:1em;"})},load:function(w){var u=_(this.id);if(n.abc.showPath&&!u.hasClass(ke)){var o,f,a=_.currentHandler,r=a[t].bind(a),y=function(){return this.select(),!1},l="D j M Y, g:i:sa",d=r(["_date"],""),c=r(["_editor"],""),m=r(["_edited"],""),v=r(["_creator"],""),b=r(["_created"],""),x=function(e,t){(_.isNumber(t)||(_.isString(t)||_.isArray(t))&&t.length)&&N(vt,N(Rt,"="+e+":"),N(Rt,N(R,"type=text","readonly=","name="+e,"value="+t))).appendTo(f)},h={Version:ti,ID:r(["_id"]),File:r(["_path"]),Name:r(["_name"],"").fromBBCode(),Type:a.type+(a._type?" -> "+a._type:""),Modules:Object.keys(r(["modules"],{})||{}),Creator:v&&!c?v:null,Created:b&&!c?new Date(b).format(l):null,Editor:c,Edited:m?new Date(m).format(l):null,Changed:d?new Date(d).format(l):null,Score:s(w)};N(p,Ye,N(p,f=N(bi).on(ft,R,y)),N(g).on(A,function(){return i=!i,_(e+Ye).children(p).velocity("slide"+(i?"Up":"Down"),{display:i?It:$i}),!1})).appendTo(u.addClass(ke));for(o in h)h.hasOwnProperty(o)&&x(o,h[o])}},persist:function(t){_(this.id+">.abc-slideout input[name=Score]").val(s(t))}})}var ti=_.log(Cs+u+"v0.14.8 (Monday 25th Jul 2016 14:37:24)"),tt=n.document,Tt=tt.location,pt=[],kt=Date.now();_.event.props.pushOnce("touches","changedTouches");var Ke=(n.abc=_.extend({},{showPath:!1,duration:400,lineCount:40,minSize:50,maxSize:200,footer:"fullscreen,help,print|?submit,?reset,?reveal|first,left,nav,right"},n.abc),n.navigator&&/mobile/i.test(n.navigator.userAgent)),ge=400,z=o.prototype;o.ActivityTypes={},o[ai]=function(i){var e=function(){o.call(this)},t=e.prototype=new o;return o.ActivityTypes[i]=e,t.constructor=e,t.type=i,t.proto=o.prototype,t},o.handler=null,o[vi]=function(){var i=0,s=function(t){return t===At||t===ci};o.parent[0].addEventListener(A,function(t){return t[d]?l:(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),!1)},!0),_(tt).on(Wn,function(i){var t=i.keyCode,n=o.handler,s=_(tt.activeElement),r=s.is("body");if(9===t){var a=n.context.find(".abc-dialog,.abc-content").first().find(":focusable"),l=a.length,h=a.index(i.target),e=h+(i.shiftKey?-1:1);l&&(0>e?e=l-1:e>=l&&(e=0),h!==e&&a.eq(e).focus())}else if(13===t&&r)n.onSubmit();else if(33===t||37===t&&r)n.onLeft();else if(34===t||39===t&&r)n.onRight();else{if(32!==t||!s.is("button"))return;s.click()}i.preventDefault()}),o.parent.on(Ut+u+ft,function(l){if(!l.isDefaultPrevented()&&o.handler&&!_(l.target).closest(R+b+mi+b+"["+Et+"='true']")[0]&&2>l.which){o.momentum=i=0;var h,g,C=o.handler,L=C.context,S=l.target,M=S,a=null,u=!!l.touches,y=0,v={Left:u?l.changedTouches[0].pageX:l.pageX,Top:u?l.changedTouches[0].pageY:l.pageY},p={Left:v.Left,Top:v.Top},m=o.$activities[0],O=o.parent[0],f=[],$=function(){for(var t=Date.now();f.length&&t-100>f[0][0];)f.shift()},T=function(){_(tt).off(e+d)};l.preventDefault(),_(tt).on((u?Ct:Mt)+e+d,function(l){if(!u&&!l.which||l.isDefaultPrevented()){if(T(),a===m){var k=o.$activities.children(e+d+":visible");o[w](k.eq(Math.range(0,Math.round(Math.max(1,a.scrollLeft)/a.clientWidth),k.length-1)).data("index"))}}else{if(M=l.target,p.Left=u?l.changedTouches[0].pageX:l.pageX,p.Top=u?l.changedTouches[0].pageY:l.pageY,!a){var i,A,S=v.Top-p.Top,_=v.Left-p.Left,I=Math.abs(_)>9,P=Math.abs(S)>9;if(!I&&!P)return;for(i=l.target;!a&&i&&i!==tt.body&&(A=n.getComputedStyle(i),i===O&&(i=m),I&&(i===m&&!C[x]()&&C[t]([r,we],!0)||s(A[Ri]))&&(0>_&&i.scrollLeft||_>0&&i.scrollWidth>=i.scrollLeft+i.clientWidth+_)&&(a=i,h="Left",g="Width"),P&&s(A[Hi])&&(0>S&&i.scrollTop||S>0&&i.scrollHeight>i.scrollTop+i.clientHeight+S)&&(a=i,h="Top",g="Height"),i!==m);i=i.parentNode);a?(y=a["scroll"+h],a===m&&(o.$activities.velocity("stop"),L.css(J,1))):T()}if(a&&!o.$abcFooter.hasClass(c)){f.push([Date.now(),p[h]]),$();var b=p[h]-v[h];0>b?b=Math.min(a["scroll"+g]-a["client"+g],y-b):b>0&&(b=Math.max(0,y-b)),a["scroll"+h]=b,l.preventDefault()}}}).one(u?Le:xe,function(t){if(T(),a){if($(),f.length>1){var c=f.shift(),u=f.pop(),y=(u[0]-c[0])/1e3;i=(u[1]-c[1])/y}var r=.4*i,l=a["scroll"+h],s=Math.min(1,a["client"+g]/Math.abs(r)/2);if(a===m){var p=o.$activities.children(e+d+":visible");(i>10||-10>i)&&(l-=r,o.momentum=s),o[w](p.eq(Math.range(0,Math.round(Math.max(1,l)/a["client"+g]),p.length-1)).data("index"))}else _(a).children().first().velocity("scroll",{axis:"Left"===h?"x":"y",offset:l-r/2,container:a,duration:400,easing:s?[.02,Math.range(.01,s,.97),.47,1]:"swing"})}else if(!t.isDefaultPrevented()){var v=M?_(S).commonFirst(M):S,b=v.is(wi),n=tt.createEvent("MouseEvents");n.initMouseEvent(b?ft:A,!b,!0,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n[d]=!0,v[0].dispatchEvent(n)}})}}).on(A,e+d+u+"dfn",function(t){var i,n=_(this);i=n.next(e+Lt),Xt(),i.length||(i=N(p,Lt,"="+n.data("title"),N(g)).insertAfter(n).velocity(fs).position({my:"center top",at:"center bottom",of:t,collision:"fit",within:n.closest(e+d),using:function(n,r){for(var i=r.target.top-_(t.target).offset().top,s=n.top-i,e=parseFloat(_(t.target).css("line-height"));i>e;)i-=e,s+=e;_(this).css({top:s+e+11,left:n.left})}}),i.children(g).position({my:"center",at:"center",of:t,collision:"fit",using:function(t){_(this).css(W,t.left)}}))}).on(ft+u+Ut,function(t){_(t.target).closest(e+Lt+",dfn").length||(Xt(),o.closeMenu())}).on(A,e+L,function(i){if(!(i.which>1)){var t=_(this),n=t.children(q),e=n[0];return e.play?e[t.hasClass(et)?gt:et]():re(),!1}}).on(ft+u+Ut,e+Pe,function(i){if(!(i.which>1)){var r=_(this),a=r.closest(e+Oe).find(q),t=a[0],n=r.getRect(),s=!!i.touches,l=!t.paused,o=function(e){t.currentTime=Math.range(0,(e-n.left)/(n.right-n.left)*t.duration,t.duration-.1)};t.pause(),a.triggerHandler("pause"),o(i.pageX),_(mt).on(s?Ct:Mt,function(t){o(t.pageX),t.preventDefault()}).one(s?Le:xe,function(){_(this).off(s?Ct:Mt),l&&t.currentTime&&t.play(),i.preventDefault()})}})},o[ae]=function(i,c){var L=_(X+d);if(!L[0])return n.setTimeout(o[ae].bind(o,i,c),1e3),l;if(o.waitScripts=0,o._readonly=/[?&]readonly(?:[=&]|$)/i.test(Tt.search),_.isArray(i)&&1===i.length&&(i=i[0]),_.isPlainObject(i)){var x,S,s,F,I=i.defaults||{};if(o.uuid=i._uuid,i.modules)for(s in i.modules)i.modules.hasOwnProperty(s)&&(o.abcModulesGlobal[s]=i.modules[s]);if(F=i,i._children)for(delete i.defaults,i=_.extend([],(S=i)._children),delete S._children,s=0;i.length>s;s++)x=i[s]._type,x===Yn||x===Xn?i.splice(s--,1):i[s]=_.extend(!0,{},S,I[x],i[s]);else i=[_.extend(!0,{},I[i._type],i)]}else if(!_.isArray(i))throw"Bad activity data";var C=Tt.hash;c=C?C.regex(/^#(?:urn:ABC:)?(.*)$/):c||0,_.isNumber(c)&&c>0&&i.length>=c&&(c=i[c-1]._id);for(var s=0;i.length>s&&c!==i[s]._id;s++)if(c===i[s]._path){c=i[s]._id;break}s===i.length&&(s=0,c=i[0]._id),o.CurrentActivity=s,o.handler=o.lastHandler=null,o.parent=_(X+d).addClass(kn).append(o.$activities=N(p,Qi)),_(X+d).on(Tn,!1),o.$abcFooter=N(p,at,N(Vt)).prependTo(o.parent),o[_e](),o[vi](),Ze(L),define("cssReady",function(){"use strict";function t(e){return o.cssLoaded||o.themeLoaded?e(tt):s.push(e),t}var e=N(g,"visibility:hidden;position:absolute;").appendTo(o.parent),i=0,n=0,r=Date.now(),s=[];return function c(){var a=e.width(),l=e.height();if(i!==a&&(i=a,o.cssLoaded=!0),n!==l&&(n=l,o.themeLoaded=!0),i&&n||Date.now()-r>2e3){o.cssLoaded=o.themeLoaded=!0,e.remove();for(var t=0,h=s.splice(0,s.length);h.length>t;t+=1)h[t](tt)}else _.rAF(c)}(),t.version="1.0.0",t.load=function(n,s,e,i){i.isBuild?e(null):t(e)},t}),define("domReady",function(){"use strict";function i(){if(!s&&(s=!0,e.length)){var t,i=e;for(e=[],t=0;i.length>t;t+=1)i[t](tt)}}function t(i){return s?i(tt):e.push(i),t}var s=!1,e=[];return"complete"===tt.readyState?i():(_(tt).on("DOMContentLoaded",i),_(n).on("load",i)),t.version="1.0.0",t.load=function(n,s,e,i){i.isBuild?e(null):t(e)},t});var s,h,u,y,P=function(t){o.handler[t.data](t)},O=function(){for(var e=0,s={};o.count>e;e++)o[e].doNotMark||(s["#activity_"+(e+1)]=o[e][t](["_path"],e));o.api(Qe,s),o.api_started=!0;var r,l,h,c,i=o[nt](Ht).split("|"),d=[ie,zi,Gi,k,Wt,Te,Ae,ve,W,ni,ht],n=function(s,l){var e,t,i,r,n;for(e=0;s.length>e;e++)t=s[e],n="?"===t[0],n&&(t=t.substr(1)),d.indexOf(t)>-1&&(i=t.ucfirst(),o.initList.push("check"+i),r=o["$abc"+i]=N(Qt,a+t).data(T,n?M:m).appendTo(l).on(A,null,"on"+i,P),t===k&&r.append(N(g),N(g)))};i[0]&&n(i[0].split(b),l=N(g,W)),i[1]&&(h=N(g,es,r=N(g)),n(i[1].split(b),r)),i[2]&&n(i[2].split(b),c=N(g,ht)),o.$abcFooter.append(h,l,c),o.initList.push("checkDisabled");var u=o.handler=pt.shift();u.setTitle(),u[w]()},$=[oi+e+D];for(s=0;i.length>s;s++)u=i[s],y=u._type,y=y+"/"+y+(u[r]&&u[r][lt]?e+u[r][lt]:""),$.pushOnce(y);require($,function(){var r;for(ze(),r=0;i.length>r;r++){if(u=i[r],h=o[r]=new o.ActivityTypes[u._type],o.count=r+1,h.index=r,h.data=u,h.baseId="#activity_"+(r+1),o[h.baseId]=h,h.buildTheme(),u._id===c&&(o.start=r,o.CurrentActivity=r),pt.push(h),r||(o.commonPath=Tt.href.replace(/(\/[^\/]*)$/,"/")+h[f](oi+e+Xe).replace(/[^\/\\]*$/i,"")),u.modules)for(var s in u.modules)if(u.modules.hasOwnProperty(s)){o.abcModules[s]=o.abcModules[s]||null,o.abcModulesIndex[s]=o.abcModulesIndex[s]||[],h[v]=h[v]||{};var a=u.modules[s];_.isPlainObject(a)&&a.global&&(o.abcModules._data[s]=o.abcModules._data[s]||{},_.extend(!0,o.abcModules._data[s],a.global),a=a.data),h[v][s]={data:a,index:o.abcModulesIndex[s].length},o.abcModulesIndex[s].push(h.baseId)}var g=h[t]([Ue]);if(g){_.currentHandler=h;var p=tt.createElement("script");p.type=_t+_i+Ti+Ot,p.text="(function(activity){"+g+'}("'+h.baseId+'"))',o.parent[0].appendChild(p)}}var s,l=["domReady!","cssReady!"];for(s in o.abcModules)o.abcModules.hasOwnProperty(s)&&null===o.abcModules[s]&&(s=d+e+s+(e+D),l.push(""+s));l.length&&l.unshift("velocity-ui"),require(l,O,function(t){t&&(n.alert("Error loading required content!\n\nPlease reload page to prevent errors!"),_.log("RequireJS Load Error:",typeof t,t)),O()})})},o[he]=function(){var e=o.handler,n=o.$abcFooter.children(Vt),s=e[t]([i,Ht])?"url('"+e[f](Ht)+"')":"";n[0]&&n.data(Z)!==s&&n.css(Z,s).data(Z,s),e.initList()},o[w]=function(a,h){if(o.cssLoaded&&o.themeLoaded){a=Math.range(0,a,o.count-1);var c=o[a].data;if(c&&_.isString(c._type)&&o.ActivityTypes.hasOwnProperty(c._type)){var n,r,e=o[a],d=o.handler!==e;if(h=h||1,d&&(Ge(),n=o.lastHandler=o.handler),o.CurrentActivity=a,o.handler=e,e.visited||(e.visited=!0),r=e.context,n){var u=tt.activeElement;if(u&&"BODY"!==u.tagName&&_(u).blur(),n.timer(!1),!r.is(":visible")){var f=o.$activities[0];f.scrollLeft=f.scrollLeft+r.show().width()}r.position().left&&(n.context.css(J,1),r.velocity("scroll",{axis:"x",container:o.$activities,duration:ge*h,easing:o.momentum?[.02,Math.range(.01,o.momentum,.97),.47,1]:"swing",complete:function(){if(o[he](),n.context.css(J,""),n[x]()){var t=n.context,i=t.position(),s=o.$activities[0],e=0;0>i.left&&(e=t.width()),t.hide(),s.scrollLeft-=e,n===o.lastHandler&&(o.lastHandler=null)}}}))}else r.position().left&&(e.context.css(J,1),r.velocity("scroll",{axis:"x",container:o.$activities,duration:ge*h,easing:o.momentum?[.02,Math.range(.01,o.momentum,.97),.47,1]:"swing",complete:function(){e.context.css(J,"")}}));return e.setTitle(),o.started||o[he](),o[F](),(d||!o.started)&&(o.started=!0,e[s](Ve)||e[s](Ve,Date.now()),o.loadState||e[s](Bt)||!e[t]([i,"hideSubmit"],e.hideSubmit)||e[s]({progress:1,marked:!0}),o.api(we,e.baseId,n?n.baseId:null)),e[s](I)||e.timer(!0),l}}},o[F]=function(e,i){var t=i||o.handler;o.cssLoaded&&o.themeLoaded&&t&&t.context&&!t.loadingCount&&_.rAF(function(e,i){_.currentHandler=t,this.fixRatio(),this[F](this.fixHeaderFooter(),e===l?!0:e),o.api(Ce,this.baseId),this._visible||(this.context.css(He,""),this._visible=!0),i&&this===o.handler&&(o.$activities[0].scrollLeft+=this.context.position().left)}.bind(t,e,o.resizeEvent))};var Re,qt,ot;o[_e]=function(){var t=o.parent[0].clientHeight;return Re!==t&&(Re=t,qt||(qt=o[nt]("lineCount",20)),ot=t/qt,o.emSize!==ot&&(o.emSize=ot,o.parent.css(ue,ot+Zt),o.$activities.css(G,(t-o.$abcFooter.outerHeight(!0))/ot+Y))),ot},o.resizeTime=0,_(n).on(Se,function(i){if(i.target===n&&o.handler&&o.handler.context){var t=Date.now(),e=t-o.resizeTime>500;e&&Xt(),o.api(Se,o.handler.baseId),o.resizeEvent=!0,o[F](e),o.resizeEvent=!1,o.resizeTime=t,o.resizeMenu()}}),_(tt).on(Ln,X+d,function(){return!1}).on("webkit"+le+u+"moz"+le+u+le,function(){o[ee](tt.fullScreen||tt.mozFullScreen||tt.webkitIsFullScreen),o[F]()}),o[ee]=function(t){Modernizr.fullscreen&&(_.isBoolean(t)||(t=!Modernizr.prefixed(Rn,tt)),t?(Modernizr.prefixed(zn,o.parent[0])||_.noop)():(Modernizr.prefixed(Hn,tt)||_.noop)(),o.parent.find(e+De).toggleClass(De+"-active",t))},o.initList=[],o.mouse={x:0,y:0},tt.addEventListener(Mt,Me,!0),tt.addEventListener(Ct,Me,!0),z.context=null,z.baseId="",z.content=null,z[Qn]=function(t,e){return this._type&&t.hasOwnProperty(this._type)?t[this._type].apply(this,_.isArray(e)?e:[].slice.call(arguments,1)):l},o[nt]=z[nt]=function(t,e){return n.abc.hasOwnProperty(t)?n.abc[t]:e},z.toEM=function(e,t){return t=t||0,e/o.emSize+t+Y},z[y]=function(t,e,i){return(i||this.data).setTree(t,e)},z[s]=function(e,i){var n=!1,t=this.persistData,s=function(e,i){o.loadState||e===$t||e===lt||!t.hasOwnProperty(e.split(".")[0])||t._loaded&&/^(pass|setpass|points|question)$/.test(e)||(t.setTree(e,i),n=!0)};if(_.isPlainObject(e))for(var r in e)s(r,e[r]);else{if(i===l)return t.getTree(e,"");this.doNotMark||s(e,i)}return n&&o.loaded&&!o._readonly&&t._loaded&&o.api(Nt,this.baseId,t),this},n.persist=function(n,r,a){var t,i=tt.getElementsByTagName("iframe");for(t=0;i.length>t;t++)try{if(i[t].contentWindow===n)return _(i[t]).closest(e+d).data(Mi)[s](r,a)}catch(t){}},z[ye]=_.False,z[ws]=_.noop,z[t]=function(t,e,i){return(i||this.data).getTree(t,e)},z.has=function(t){return this.data.hasTree(t)},z[S]=function(i,n){var e=this[t](i,n),s=_.currentHandler;return _.currentHandler=this,e=e?(""+e).fromBBCode():"",_.currentHandler=s,e},z[di]=function(){var e=this[t](["intro"])||this[t](["subtitle"])||this[t](["_name"],"")||U;return e.replace(/(\[[^\]]*\])/g," ").replace(/\s\s/g," ").trim()},z[Ms]=function(t,e){return this[y](t,e,this.answers)},z[ls]=function(e,i){return this[t](e,i,this.answers)},z[se]=_.noop,z[x]=_.False,z[me]=_.noop,z[ts]=function(n,i){var e=this[t]([ut,n,1]);return e===i||_.isArray(e)&&e.indexOf(i)>=0?!0:!1},z[be]=_.noop,z.uniqueId=function(){return d+"_"+this.index+"_"+this.uniqueIdNumber++},z[Pt]=function(n){_.currentHandler=this;var e,i;for(e in this)!this.hasOwnProperty(e)||"$"!==e[0]&&"_"!==e[0]||delete this[e];this.answers={},this.uniqueIdNumber=0,i=parseFloat(this[t]([r,"font_size"],0)),this._autoSize={minSize:i||this[t]([r,"font_min_size"])||o[nt]("minSize",50),maxSize:i||this[t]([r,"font_max_size"])||o[nt]("maxSize",200)},n&&(this._type=this[t]([r,lt],n)),(this.doNotMark||this[t]([r,"discussion"],!1))&&(this.hideSubmit=this.hideReset=this.hideReveal=!0),this.persistData={id:this[t](["_path"]),type:this.type+(this._type?" - "+this._type:""),pass:this[t]([r,Ie],-1),setpass:this[t]([r,sn],-1),points:this[t]([r,Bt],-1),question:this[di](),answers:[],attempts:0,auto:!0,marked:!1,max:0,min:0,progress:0,response:[],score:l,state:{},viewed:0,timer:0}},z[St]=function(){_.currentHandler=this,this._disabled=!1,this.content.empty().removeAttr("style").removeClass().addClass(Ft+u+a+this.type+(this._type?u+a+this.type+"-"+this._type:"")).siblings(st).remove();var n,s=this.content.parent(),e=this[t]([i,"right_image"]);n=this[t]([i,"right_space"]),this.content.css("padding-right",n?n+"%":n),e&&N(st,"src="+this[f](e===!0?"right_image":e),"right:0",this[t]([i,"right_image_space"])&&n?"height:auto;width:"+n+"%;":null,"padding-left:"+this[t]([i,"right_image_left_padding"],0)+"em;padding-right:"+this[t]([i,"right_image_right_padding"],0)+"em;").prependTo(s),e=this[t]([i,"left_image"]),n=this[t]([i,"left_space"]),this.content.css("padding-left",n?n+"%":n),e&&N(st,"src="+this[f](e===!0?"left_image":e),"left:0",this[t]([i,"left_image_space"])&&n?"height:auto;width:"+n+"%;":null,"padding-left:"+this[t]([i,"left_image_left_padding"],0)+"em;padding-right:"+this[t]([i,"left_image_right_padding"],0)+"em").prependTo(s),e=this[t]([i,"background_image"]),e&&(this[t]([i,"background_image_full"])?this.context.css(Z,"url('"+this[f](e===!0?"background_image":e)+"')"):N(st,"src="+this[f](e===!0?"background_image":e),"left:0;right:0;width:100%").prependTo(s)),this.h1.html(this[S](["_name"],U)),this.h2.html(this[S](["subtitle"],U)),this.h3.toggle(!!this[t](["intro"])),this[t]([i,"text_shadow","content"])&&this.content.addClass("abc-text-shadow")},z.checkScore=function(){var t=this[s](Bt),e=o.$abcScore;-1===t&&(t=this[s](O)),e&&(e=e.toggleClass(e.data(T)?M:m,!t).children(),t&&(e.eq(0).text(this[s](I)?parseFloat((this[s](k)?t*Math.min(1,(this[s](k)+this[s](D))/(this[s](O)-this[s](D))):0).toFixed(1)):"-"),e.eq(1).text(t)))},z.onScore=function(){return!1},z.initList=function(){if(!this.initList.running){this.initList.running=!0;for(var t=0;o.initList.length>t;t++)this[o.initList[t]]();this.initList.running=!1}return this},z[F]=_.False,z[zt]=function(){this.loadingCount||this.context.loading(!0),this.loadingCount=(this.loadingCount||0)+1},z[j]=function(){this.loadingCount--,this.loadingCount||(this._loaded=!0,o.api(xt,this.baseId,this.doNotMark?{}:this.persistData),this.context.loading(!1),o.started||this.index!==o.CurrentActivity||o[w](o.CurrentActivity),o[j]())},o[j]=function(){var i,t,n;if(!o._paused){for(i=0;o.count>i;i++)if(!o[i]._loaded)return;for(o.loadState=!0,o.parent.find(e+Oe+u+q).audio(),i=0;o.count>i;i++)t=o[i],n=t[s](I)&&!t.hideSubmit,t.persistData._loaded=!0,o.api(Nt,t.baseId,t.persistData),t[ye](n)!==!1&&n&&(t._btnSubmit=!0,t.onSubmit()),t.initList();o.loadState=!1,o.loaded=!0,o.api(ui,o.handler.baseId),o._readonly&&(o.parent.find("["+Et+"]").prop(Et,Oi),o.parent.find(R+b+wi+mi).prop(c,Os)),de()}},z.timer=function(e,n){var t=this[s](Yt),i=Date.now();return o.api("timer",this.baseId,e,n)!==!1&&(e===!0?(this._timer=i,n&&(t=0)):e===!1&&this._timer&&(t+=(i-this._timer)/1e3,this._timer=0)),this._timer&&(t+=(i-this._timer)/1e3),o.loadState||this[s](Yt,t),1e3*t},z[pe]=function(c,h,v){if(h&&this.index===o.CurrentActivity&&!this.$feedback&&o.api(P,this.baseId,c,h,v)!==!1&&!this[t]([r,P])){var u=-1,m=Math.floor(100*c/h),w=this[t]([P],{});if(u=w.bestMatch(m),u!==l){var f,d,a,S=this[s](dt),b=N(p,"abc-total",$+ps+(v?m+Gt:c+" out of "+h),N(ss)),y=this[t]([i,P+"_duration"],0),x=this[gi].bind(this);for(d=_.isString(u)?u:u.text;_.isString(a=d.regex(/\{([^{]*?)\}/));)a=a.split("~"),a=a[Math.min(S,a.length)-1],a=a.split("|"),a=a[Math.floor(Math.random()*a.length)],d=d.replace(/(\{[^{]*?\})/,a.trim());for(v&&(c=m/10,h=10),f=0;h>f;f++)N(g,"abc-stars",c>f?Ki:null).appendTo(b);return this.$feedback=N(p,Q,"opacity:0",N(Jt,$+d.fromBBCode()),this[t]([i,P+"_stars"],!0)?b:null).data(Q,Date.now()).appendTo(this.context).modal(!0,y).autoTextSize().position({my:"center",at:"center",of:this.context}).velocity("fadeIn",y,function(){this.context.one(A+e+Q,x);var s=this[t]([i,P+"_delay"],5);s&&this.$feedback.data("delay",n.setTimeout(x,1e3*s))}.bind(this)),!0}}return!1},z[gi]=function(){var s=this.$feedback;s&&Date.now()-s.data(Q)>100&&(this.$feedback=null,n.clearTimeout(s.data("delay")),this.context.off(e+Q),s.modal(!1).velocity(Be,this[t]([i,P+"_duration"],0),function(){s.remove()}.bind(this)))},z.countLeft=function(i,n){var t,e=0;for(t=0;this.index>t;t++)Dt(o[t],i,n)&&e++;return e},z.getLeft=function(){for(var t=this.index-1;t>=0&&o[t][x]();)t--;return t>=0&&!o[t][x]()?t:!1},z.countTotal=function(i,n){var t,e=0;for(t=0;o.count>t;t++)Dt(o[t],i,n)&&e++;return e},z.countRight=function(i,n){var t,e=0;for(t=o.count-1;t>this.index;t--)Dt(o[t],i,n)&&e++;return e},z.getRight=function(){for(var t=this.index+1;o.count>t&&o[t][x]();)t++;return o.count>t&&!o[t][x]()?t:!1},z.complete=!1,z.checkDisabled=function(){this.content.toggleClass(Sn,this._disabled)},z.defaultFullscreen=!0,z.hideFullscreen=!1,z.checkFullscreen=function(){return this.onFullscreen(this.defaultFullscreen,!Modernizr.fullscreen||this.hideFullscreen||!this[t]([r,ie]))},z.onFullscreen=function(t,e){if(this===o.handler&&o.$abcFullscreen)if(_.isBoolean(t)){var i=o.$abcFullscreen.toggleClass(c,!t);_.isBoolean(e)&&i.toggleClass(i.data(T)?M:m,!!e),this._btnFullscreen=t}else this._btnFullscreen!==!1&&o[ee]();return this},z.defaultHelp=!1,z.hideHelp=!1,z.checkHelp=function(){return this.onHelp(!!this[t](["helpText"]),this.hideHelp||this[t]([i,"hideHelp"],!1))},z.onHelp=function(e,i){if(this===o.handler&&o.$abcHelp)if(_.isBoolean(e)){var n=o.$abcHelp.toggleClass(c,!e);_.isBoolean(i)&&n.toggleClass(n.data(T)?M:m,!!i),this._btnHelp=e}else if(this._btnHelp!==!1){var s=this[t](["helpText"]);if(s){this.dialog(null,s,"Close")}}return this},z.defaultPrint=!1,z.hidePrint=!1,z.checkPrint=function(){return this.onPrint(this.defaultPrint,this.hidePrint||this[t]([i,"hidePrint"],!1))},z.onPrint=function(t,e){if(this===o.handler&&o.$abcPrint)if(_.isBoolean(t)){var i=o.$abcPrint.toggleClass(c,!t);_.isBoolean(e)&&i.toggleClass(i.data(T)?M:m,!!e),this._btnPrint=t}else this._btnPrint!==!1&&n.print();return this},z.defaultSubmit=!1,z.hideSubmit=!1,z.checkSubmit=function(e){var n=this[s](I)&&this[s](O)===this[s](k)&&this[t]([i,"disablePerfectSubmit"]);return this.onSubmit(this[s](I)||this._disabled?!1:!n&&!this[t]([i,"disableSubmit"],!this._disabled&&(_.isBoolean(e)?e:!this.defaultSubmit)),this[t]([i,"hideSubmit"],this.hideSubmit))},z.onSubmit=function(i,n){if(_.isBoolean(i)){var a=this[t]([r,hi],0);if(a&&(i=a>this[s](dt)?i:!1),o._readonly&&!o.loadState&&(i=!1),this._btnSubmit=i,this===o.handler&&o.$abcSubmit){var l=o.$abcSubmit.toggleClass(c,!i);_.isBoolean(n)&&l.toggleClass(l.data(T)?M:m,!!n)}}else if(this._btnSubmit!==!1){var h=function(t){t||(o.api(Wt,this.baseId),this.timer(!1),_(e+K,this.content).removeClass(K),this._disabled=this.complete=!0,this._revealed=!1,this.context.addClass(c),o.loadState||this[s]({marked:!0,attempts:this[s](dt)+1}),this[be](),this.initList())}.bind(this);!o.loadState&&this[t](["settings","confirm"])?this.dialog(this[S]([r,"confirm_title"],"Confirm Submit"),this[S]([r,"confirm_text"],"Are you sure you wish to submit your answers?"),["Yes","No"],h):h()}return this},z.defaultReset=!0,z.hideReset=!1,z.checkReset=function(e){var n=this[s](I),r=!n&&this[t]([i,"disableMarkedReset"]),a=n&&this[s](O)===this[s](k)&&this[t]([i,"disablePerfectReset"]);return this.onReset(!r&&!a&&!this[t]([i,"disableReset"],!this._disabled&&(_.isBoolean(e)?e:!this.defaultReset)),this[t]([i,"hideReset"],this.hideReset))},z.onReset=function(i,n){if(_.isBoolean(i)){var a=this[t]([r,hi],0);if(a&&(i=a>this[s](dt)?i:!1),o._readonly&&(i=!1),this._btnReset=i,this===o.handler&&o.$abcReset){var l=o.$abcReset.toggleClass(c,!i);_.isBoolean(n)&&l.toggleClass(l.data(T)?M:m,!!n)}}else this._btnReset!==!1&&(o.api(Te,this.baseId),this.timer(!0,!0),this.content.removeClass(gn),_(e+K,this.content).removeClass(K),_(e+H,this.content).removeClass(H),_(e+E,this.content).removeClass(E),_(e+ct,this.content).removeClass(ct),this._disabled=this._revealed=this.complete=!1,this.context.removeClass(c),this[me](),this.answers={},_.each([H,E,ct],function(i,t){_(e+t+":not("+e+bn+")",this.content).removeClass(t)}),this[s]({marked:!1,progress:0,score:0,response:[],state:{}}).initList());return this},z.defaultReveal=!0,z.disableReveal=!1,z.hideReveal=!1,z.checkReveal=function(e){var n=this[s](I)&&this[s](O)===this[s](k)&&this[t]([i,"disablePerfectReveal"]),r=this._disabled&&this._revealed&&this[t]([i,"disableSingleReveal"]);return this.onReveal(!n&&!r&&!this[t]([i,"disableReveal"],!this._disabled&&(_.isBoolean(e)?e:!this.defaultReveal)),this[t]([i,"hideReveal"],this.hideReveal))},z.onReveal=function(i,n){if(_.isBoolean(i)){var a=this[t]([r,"reveal_after"]);if(a&&(i=a>this[s](dt)?!1:i),this.disableReveal&&(i=!1),o._readonly&&(i=!1),this._btnReveal=i,this===o.handler&&o.$abcReveal){var l=o.$abcReveal.toggleClass(c,!i);_.isBoolean(n)&&l.toggleClass(l.data(T)?M:m,!!n)}}else this._btnReveal!==!1&&o.api(Ae,this.baseId)!==!1&&(_(e+K,this.content).removeClass(K),_(e+H,this.content).removeClass(H),_(e+E,this.content).removeClass(E),this._disabled=this._revealed=!0,this.complete=!0,this.context.addClass(c),this[se](),this.initList());return this},o.lastFirst=-1,z.defaultFirst=!0,z.hideFirst=!1,z.checkFirst=function(){if(this===o.handler&&o.$abcFirst){var e=!1,n=!!this[t]([r,"letters_first"]),s=!!this[t]([r,"letters"]);e=n&&s?!0:0===this.countLeft(),e||(o.lastFirst=this.index),o.$abcFirst.toggleClass("abc-return",o.lastFirst>=0&&e),
this.onFirst(!this[t]([i,"disableFirst"])&&(!e||o.lastFirst>=0),this[x]()||this.countTotal()<=1||!this[t]([i,"showFirst"])||e&&this[t]([i,"hideFirst"])&&0>o.lastFirst)}return this},z.onFirst=function(i,a){var l=this===o.handler&&o.$abcFirst;if(_.isBoolean(i)){if(l){this._btnFirst=i;var h=o.$abcFirst.toggleClass(c,!i);_.isBoolean(a)&&h.toggleClass(h.data(T)?M:m,!!a)}}else if(l&&this._btnFirst!==!1&&o.api(ve,this.baseId)!==!1){var e,n=-1,s=this[t]([r,"letters_first"]);if(!s||!this[t]([r,"letters"]))for(e=0;this.index>e&&(o[e][x]()||s&&!o[e][t]([r,"letters"])||(n=e,s));e++);n>=0?(o.lastFirst=this.index,o[w](n)):o.lastHandler&&o[w](o.lastFirst)}return this},z.defaultLeft=!0,z.hideLeft=!1,z.checkLeft=function(){return this.onLeft(this.countLeft()>0&&!this[t]([i,"disableLeft"]),this.countTotal()<=1||this[x]()||this[t]([i,"hideLeft"],!1))},z.onLeft=function(t,e){var i=this===o.handler&&o.$abcLeft;if(_.isBoolean(t)){if(this._btnLeft=t,i){var n=o.$abcLeft.toggleClass(c,!t);_.isBoolean(e)&&n.toggleClass(n.data(T)?M:m,!!e)}}else if(i&&this._btnLeft!==!1&&o.api(W,this.baseId)!==!1){var s=this.getLeft();s!==!1&&o[w](s)}return this},z.defaultNav=!0,z.hideNav=!1,z.checkNav=function(){if(this===o.handler&&o.$abcNav){_.currentHandler=this,o.$abcNav.html("<span>"+this[S]([i,"nav_button"],"[activitycount!]")+"</span>");var e=this.countTotal();this.onNav(!this[t]([i,"ordered"])&&e>1,1>=e||this[x]()||this[t]([i,"hideNav"],!1))}return this},o.resizeMenu=function(){if(o.$abcMenu)for(var i,s=o.handler,n=s.countLeft(),t=n-2,e=s.countRight()-2,r=o.$abcMenu,a=r[0],l=r.children(Qt).removeClass(m),h=a.clientWidth;a.scrollWidth>h;){if(e>=2&&e>=t)i=n+e--;else if(t>=2)i=n-t--;else if(e>0&&e>=t)i=-1-e--;else if(t>0)i=t--;else if(0===e&&e>=t)i=n+1,e--;else{if(0!==t)break;i=n-1,t--}l.eq(i).addClass(m)}},o.closeMenu=function(){o.$abcMenu&&o.$abcMenu.velocity({height:"0"},function(){o.$abcMenu.remove(),o.$abcNav.removeClass(qe+"-open"),delete o.$abcMenu,o.$abcFooter.css(J,"")})},o.clickMenu=function(t){return 2>t.which&&!_(t.target).hasClass(c)&&t.data!==o.CurrentActivity?(o.closeMenu(),o.momentum=0,o[w](t.data),!1):l},z.onNav=function(i,n){var s=this===o.handler&&o.$abcNav;if(_.isBoolean(i)){if(this._btnNav=i,s){var a=o.$abcNav.toggleClass(c,!i);_.isBoolean(n)&&a.toggleClass(a.data(T)?M:m,!!n)}}else if(s&&this._btnNav!==!1){var e,l,h=0,u=0;if(o.$abcMenu)o.closeMenu();else{for(o.$abcMenu=N(p,On),e=0;o.count>e;e++)o[e][x]()||(l=o[e][S]([r,"pageNumber"],o[e].navigationTitle)||(o[e][t]([r,"letters"])?String.fromCharCode(97+h++):++u),N(Qt,e===this.index?c:null,o[e].complete?as:null,N(g,$+l)).appendTo(o.$abcMenu).on(A,null,e,o.clickMenu));o.$abcMenu.prependTo(o.$abcFooter.css(J,1)).velocity({height:[o.$abcMenu.css(G),0]},function(){o.$abcNav.addClass(qe+"-open")}),o.resizeMenu()}}return this},z.defaultRight=!0,z.hideRight=!1,z.checkRight=function(){return this.onRight(this.countRight()>0&&!this[t]([i,"disableRight"])&&(this[s](I)||!this[s](O)||!this[t]([i,"disableRightSubmit"])),this.countTotal()<=1||this[x]()||this[t]([i,"hideRight"],!1))},z.onRight=function(t,e){var i=this===o.handler&&o.$abcRight;if(_.isBoolean(t)){if(this._btnRight=t,i){var n=o.$abcRight.toggleClass(c,!t);_.isBoolean(e)&&n.toggleClass(n.data(T)?M:m,!!e)}}else if(i&&this._btnRight!==!1&&o.api(ht,this.baseId)!==!1&&this.index===o.CurrentActivity){var s=this.getRight();s!==!1&&o[w](s)}return this},z.fixHeaderFooter=function(){var e=o.$activities[0],i=e.clientWidth,n=e.clientHeight,t=this.header.outerHeight(),s=this._headerHeight!==t;return s||this._parentWidth!==i||this._parentHeight!==n?(this._parentWidth=i,this._parentHeight=n,s&&(this._headerHeight=t,this.contentBox.css(Je,t/o.emSize+Y)),!0):!1},z.fixRatio=function(){var r,e,s,a;for(r=o.parent;!e||!s;r=r.parent())a=n.getComputedStyle(r[0],null),e=e||r.convertCSS(a[ii],!0),s=s||r.convertCSS(a[Fe]),r.is(ne)&&(e=e||r.width(),s=s||r.height());if(o._fixRatioWidth!==e||o._fixRatioHeight!==s){o._fixRatioWidth=e,o._fixRatioHeight=s;var l=this[t]([i,it],0),h=this[t]([i,G],0);if(l&&h){var d=o.parent.is(mt)&&"parentIFrame"in n,c=Math.floor(l*(s/h)),u=Math.floor(h*(e/l));d?n.parentIFrame.size(Math.min(c,e),Math.min(u,s)):o.parent.css(it,Math.min(c,e)).css(G,Math.min(u,s))}return o[_e](),!0}return!1},o[f]=z[f]=function(t){var e,s;t="/"+t+(t.indexOf(".")>0?"":".");var e,i,s="",r=(this===o?"":"/"+(this.index+1))+t;for(e=0;n.assets.length>e;e++)i=n.assets[e],i.indexOf(i.indexOf("_common")>=0?t:r)>=0&&(s=i);return s};var Kt=Tt.protocol;Kt=/^https?:/.test(Kt)?Kt:tn+h,z.buildTheme=function(){var s,n,a=function(r,t,e){var i=r+(t||e?"_":"")+(t||"")+(e||""),n=this[f](i+qn),s=this[f](i+Dn);(n||s)&&_.stylesheet("@font-face /*"+i+"*/",[V+h+"'"+r+"'",Bi+(n?h+"url('"+n+"') format('woff'),":"")+(s?"url('"+s+"') format('truetype')":""),ys+h+(t||Ne),bs+h+(e||Ne)])}.bind(this),d=function(){a(C),a(C,We),a(C,null,Ee),a(C,We,Ee)}.bind(this);if(a($n),n=this[t]([i,C]),n&&!o.parent[0].style[V]){if(n===!0)d(),n=C;else{var l,r,c,p=n.split("&");for(n=null,l=0;p.length>l;l++)c=p[l],r=c.split(h).shift().replace(/\+/gi," "),"*"===r?(d(),r=C):_(Si+":abc(font,"+r+")")[0]||N(Si,"rel=stylesheet","type=text/css","href=http"+(/^https?:/.test(Tt.protocol)?"s":"")+"://fonts.googleapis.com/css?family="+c.replace(/\s/g,"+")).data(C,r).appendTo("head"),n||(n=r)}o.parent.css(V,"'"+n+"', sans-serif")}for(n=this[t]([i,"colour"]),n&&(_.stylesheet(e+wt+u+ce,rt+h+n,this.baseId),_.stylesheet(e+at,rt+h+n,this.baseId),_.stylesheet(e+Ft,bt+h+n,this.baseId),_.stylesheet(e+Q,bt+h+n,this.baseId)),n=this[t]([i,"colourback"]),n&&(_.stylesheet(e+wt+u+ce,B+h+n,this.baseId),_.stylesheet(e+at,B+h+n,this.baseId)),n=this[t]([i,"colour2"]),n&&_.stylesheet(e+wt+u+fe,rt+h+n,this.baseId),n=this[t]([i,"colour2back"]),n&&_.stylesheet(e+wt+u+fe,B+h+n,this.baseId),n=this[t]([i,"colours"],[]),s=0;n.length>s;s++)s||_.stylesheet(e+jt+b+e+jt+h+Vi+b+e+jt+h+ji,bt+h+n[s][0],this.baseId),_.stylesheet(e+yt+(s+1),[rt+h+n[s][0],bt+h+n[s][0],B+h+n[s][1]],this.baseId),_.stylesheet(e+rn+(s+1)+b+e+$e+e+yt+(s+1)+b+e+yt+(s+1)+u+$e+b+e+ct+e+yt+(s+1),[rt+h+n[s][1],bt+h+n[s][0],B+h+n[s][0]],this.baseId),_.stylesheet(e+on+(s+1),[Zn+h+"inset 0 0 0 3px "+n[s][0],rt+h+n[s][1]],this.baseId);n=this[t]([i,Di],{});for(s in n)n.hasOwnProperty(s)&&_.stylesheet(s.replace(/&/g,this.baseId),n[s])},z.dialog=function(n,a,t,s){t=_.isArray(t)?t:[t];var e,i,o=this,r=N(p,wn,N(!!n,Jt,$+n),N(p,N(p,$+a.fromBBCode())),t&&t.length?i=N(p,hn):null).appendTo(this.context).modal(!0).autoTextSize();if(t&&t.length){for(e=0;t.length>e;e++)N(oe,ln,pn,$+t[e]).on(xe+u+Le,function(t){2>t.which&&(s&&s.call(o,_(this).index()),r.modal(!1).remove(),t.preventDefault())}).appendTo(i);i.children().last().focus()}return r},z.setTitle=function(){tt.title=(this.data._name||this.data._path||"Activity").replace(/(\[.*?\])/gi,"")};return z[w]=function(){_.currentHandler=this,je.call(this),o.parent.addClass(this[t]([i,"classname"]));var e=this[t]([i,"show_title"],!0);this.content=N(p,Ft),this.context=N(p,this.baseId,d,He+":"+m,o._readonly?c:"").data(Mi,this).data($t,this.data[is]||this.data[Ts]).data(si,this.index).appendTo(o.$activities),this.context.append(this.header=N(p,wt,N(e,p,N(e,st,"src="+this[f]("logo")),this.btnClose,N(e,ce,this.h1=N(g)),N(e,fe,this.h2=N(g))),N(Jt,this.h3=N(g,$+this[S](["intro"],"")),this[t]([i,"banner"])?Z+":url('"+this[f]("banner")+"')":null)),this.contentBox=N(p,vn,this.content));for(var n in this[v])this[v].hasOwnProperty(n)&&this.context.addClass(An+"-"+n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase());this[Pt](),this[zt](),this[St](),this.context.css(V)!==this.context.parent().css(V)&&(this[zt](),this.context.onFontLoaded(this[j].bind(this))),this[j](),pt.length&&(kt+250>Date.now()?pt.shift()[w]():_.rAF(function(){kt=Date.now(),pt.shift()[w]()}))},require([xn],function(){n.jQuery=n.$=_,_(Ot).each(function(i){var t=_(this),e=t.text();if(/^\s*".*"\s*$/.test(e)){try{o[ae](JSON.parse(atob(e.replace(/[^a-z0-9\+\/]/gi,"").reverse())))}catch(t){return}return t.remove(),!1}})}),o}),define("common",[Dt,cs,Fn,Un],function(i){function a(t,e,n){t[e]||(t[e]=n,(Object.defineProperty||i.noop)(t,e,{enumerable:!1}))}function w(x,p,y,b,v,m,g,f){var s,r,n,h,t,e,c=arguments;for(s=0;c.length>s;s++)if(t=c[s],s||!i.isBoolean(t)&&t)if(e){if(t)if(i.isPlainObject(t))e.css(t);else if(i.isArray(t))t.length&&e[t[0]].apply(e,t.slice(1));else if(i.isString(t))if("#"===t[0])e.attr("id",t.replace("#",""));else if("<"===t[0])e.append(t);else if("="===t[0])e.html(t.substr(1));else{var d=t.indexOf(":"),a=t.indexOf("=");if(d>=0&&(0>a||a>d))for(n=t.regex(/\s*([a-z-]+):(\s*(?:url\([^\)]*\)|[^;]+)+)\s*;?/gi),r=0;n.length>r;r++)e.css(n[r][0],n[r][1]);else a>0?(n=t.regex(/(.*?)=(.*)/),h="?"===t[0],e[h?"data":"attr"](h?n[0].substr(1):n[0],n[1]===l?!0:n[1])):t.length&&e.addClass(t)}else t.jquery&&e.append(t)}else e=i(!i.isString(t)||(/[ #<.]/.test(t)?t:o.createElement(t)));else if(!t)break;return e=e||i(),e.length&&i.currentHandler&&!i.currentHandler._loaded&&i.currentHandler.context&&e.is(st)&&!e[0].complete&&(i.currentHandler[zt](),e.on(xt+u+Bn,function(t){this.off(),t[j]()}.bind(e,i.currentHandler))),e}function A(t){var e=parseInt(t%60),i=parseInt(t/60);return i+":"+(e>9?"":"0")+e}var s=i.fn,h=Array.prototype,O=Date.prototype,C=Function.prototype,T=Number.prototype,v=Object.prototype,y=String.prototype;!function(){try{var s,t,e=n.console=n.console||{},r=C.bind,a=["log","warn","error","debug","info","assert","trace"];for(s=0;a.length>s;s++)t=a[s],e[t]=e[t]||i.noop,r&&"object"==typeof e[t]&&(e[t]=r.call(e[t],e))}catch(t){}}();var $=Modernizr.prefixed("requestAnimationFrame",n),x={},M=!1;i.rAF=function(t,s){var e;i.isString(t)?(e=s,s?(x[t]=s,M?e=!1:(M=!0,e=function(){var e;M=!1;for(t in x)x.hasOwnProperty(t)&&(e=x[t],e&&(x[t]=!1,e()))})):x[t]=!1):e=t,e&&($&&!o.hidden?$(e):n.setTimeout(e,16))},i.log=function(t){var e=n.console;return t&&e&&e.log&&e.log(t),t},i.explode=function(n){var t,e=[];if(n&&i.isArray(n)&&(e=n.slice(0)),i.isString(n))for(e=n.split("."),t=0;e.length-1>t;t++)"\\"===e[t].substr(-1)&&(e[t]=e[t].substr(0,e[t].length-1)+"."+e.splice(t+1,1),t--);for(t=0;e.length>t;t++)/[^\d]/.test(e[t])||(e[t]=parseInt(e[t],10));return e},i.False=function(){return!1},i.True=function(){return!0},i.extend(i.support,{mobile:/(iPad|iPhone|iPod)/g.test(navigator.userAgent)}),i.stylesheet=function(e,n,s){var t,r,a,o=function(i,t,e){n[t]=e};if(i.stylesheet.globalStylesheet||(i.stylesheet.globalStylesheet=i('<style style="text/css"/>').appendTo("head"),i.stylesheet.rules={}),i.stylesheet.globalStylesheet)if(n){if(i.isString(n)&&(n.indexOf("{")>=0&&(n=n.replace(/(^[^{]*\{|\}.*)/g,"")),n=n.split(";")),i.isArray(n))for(r=n,n={},t=0;r.length>t;t++)i.isString(r[t])&&r[t].replace(/^\s*([^\s:]+)\s*:\s*(.*?)\s*$/,o);for(e=i.isArray(e)?e:e.split(","),s=i.isString(s)?s+" ":"",t=0;e.length>t;t++)e[t]=s+e[t].trim();for(t=0;e.length>t;t++)a=e[t],i.stylesheet.rules[a]=i.extend(i.stylesheet.rules[a]||{},n);i.rAF("style",i.stylesheet.update)}else if(i.isString(e)&&/\{.*?\}/.test(e))for(e=e.regex(/\s*(.*?)\s*\{([^\}]*)\}/g),t=0;e.length>t;t++)i.stylesheet(e[t][0],e[t][1],s);else if(i.isPlainObject(e))for(t in e)e.hasOwnProperty(t)&&i.stylesheet(t,e[t],s);return this},i.stylesheet.update=function(){if(i.stylesheet.globalStylesheet){var t,r,e,n,a=i.stylesheet.rules,s="";for(e in a)if(a.hasOwnProperty(e)){s+=e+"{",n=a[e];for(t in n)n.hasOwnProperty(t)&&(r=i.camelCase(t),s+=("float"!==t&&i.cssProps.hasOwnProperty(r)?i.cssProps[r].replace(/([A-Z])/g,"-$1").toLowerCase():t)+":"+n[t]+";");s+="}"}i.stylesheet.globalStylesheet.text(s)}},i.stylesheet.empty=function(){return i.stylesheet.globalStylesheet&&(i.stylesheet.rules={},i.stylesheet.globalStylesheet.text("")),this},s.onFontLoaded=function(t,e){return i.isFunction(t)?this.each(function(a,r){var i=w(p,"ui-font-loader","font-family:sans-serif",[_t,"giItT1WQy@!-/#"]).appendTo(r);n.setTimeout(s.onFontLoaded.check.bind(i,0,i.width(),i.height(),t),s.onFontLoaded.defaults.delay),i.css(V,e||"inherit")}):this},s.onFontLoaded.check=function(t,e,i,r){e!==this.width()||i!==this.height()||t>=s.onFontLoaded.defaults.maximum?(this.remove(),r()):n.setTimeout(s.onFontLoaded.check.bind(this,t+1,e,i,r),s.onFontLoaded.defaults.delay)},s.onFontLoaded.defaults={delay:50,maximum:40},s.fixNatural=function(){return this.each(function(e,i){if(this.naturalWidth===l){var t=new Image;t.src=this.src,this.naturalWidth=t.width,this.naturalHeight=t.height}})},s.naturalWidth=function(){return this.length?this[0].naturalWidth||this.fixNatural()[0].naturalWidth:null},s.naturalHeight=function(){return this.length?this[0].naturalHeight||this.fixNatural()[0].naturalHeight:null},s.slideTo=function(e,t){var n=!e||e===Xi,s=n?null:i(e);return n||s.length?this.each(function(){var e=i(this),r=e.offset();n||s.is(e.parent())||e.appendTo(s),e.velocity("stop",!0),0===t||i.isPlainObject(t)&&0===t.duration?e.css({top:0,left:0}):e.offset(r).velocity({top:0,left:0},t)}):this},s.findTextSize=function(b){var l,e,a,h,c,u,d,f,p,v=this.length,n=i.extend({},s.findTextSize.defaults,b),y=n.maxWidth||0,g=n.maxHeight||0,r=n.maxSize||200,o=n.minSize||50,t=r,x=function(t){return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1};if(o!==r)for(l=0;v>l;l++){for(e=this.get(l),a=x(2*Math.ceil(r-o)),h=i.isString(n.useParent)?i(e).closest(n.useParent):i(n.useParent?e.parentNode:e),d=Math.ceil(y||h.width()),f=Math.ceil(g||h.height()),c=i(e).style({overflow:m,maxWidth:d+Zt,maxHeight:It,width:At,height:At,fontSize:"1px"}),p=c.find(":css("+Ei+"="+En+")").filter(":visible").not(e).style({display:It}),u=o;a>.1;)if(a/=2,t=Math.min(r,t+a),e.style.fontSize=t+"%",d>=e.scrollWidth&&f>=e.scrollHeight){if(t===r)break;u=t}else{if(!(t>o))break;t=u}r=t,c.style(),p.style()}return t},s.findTextSize.defaults={useParent:!0,maxWidth:0,maxHeight:0,minSize:50,maxSize:200},s.autoTextSize=function(t){return this.css("font-size",this.findTextSize(t)+"%")},s.wrapGroup=function(n){for(var e,t=i(this);t.length;)e=t.first(),e.nextAll().each(function(i){return t.eq(i+1).is(this)?(e.push(this),l):!1}),t=t.not(e.wrapAll(n));return this},s.textSpace=function(){var t="";return i(this).find("*").contents().each(function(){3===this.nodeType&&(t+=(t?" ":"")+this.textContent)}),t},i.prefix=function(t){return t.indexOf("-")>=0&&(t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})),i.cssProps[t]||(i.cssProps[t]=Modernizr.prefixed(t)),i.cssProps[t]},s.style=function(s){var t,r,a,n,e,o="savedStyles";for(n=0;this.length>n;n++)if(a=this.get(n).style,e=this[o+n],i.isArray(s))for(e||(e=this[o+n]={}),t=0;s.length>t;t++)r=i.prefix(s[t]),e[r]=a[r];else if(i.isPlainObject(s)){e||(e=this[o+n]={});for(t in s)s.hasOwnProperty(t)&&(r=i.prefix(t),e[r]=a[r],a[r]=s[t])}else if(e){for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);delete this[o+n]}return this},s.verticalCenter=function(e){var n=i.isString(e),t=[];return this.each(function(a,r){var e=i(r),s=((n?i(s,r).height():s||e.parent().height())-e.height())/2,o=parseFloat(e.css("font-size"));t[a]=Math.max(0,s/o)}).each(function(e,n){i(n).css("padding-top",t[e]+"em")}),this},s.getRect=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}}},s.min=function(e,n){var t=Number.MAX_VALUE;return this.each(function(s,n){t=Math.min(t,parseFloat(i(n).css(e)))}),(t===Number.MAX_VALUE?n:t)||0},s.max=function(e,n){var t=Number.MIN_VALUE;return this.each(function(s,n){t=Math.max(t,parseFloat(i(n).css(e)))}),(t===Number.MIN_VALUE?n:t)||0},s.rxRemoveClass=function(i){var t,e;for(t=0;this.length>t;t++)e=this.eq(t),e.removeClass((e.attr("class")||"").regex(i));return this},s.drawLine=function(e,l){var n=function(e,t,i,s,r,a,n){return e+(n?t/4:0)>i+s?r:i>e+(n?t/4*3:t)?a:"center"},r=function(a,o,e,s,r){var t=a.getBoundingClientRect(),i=o.getBoundingClientRect();t.height=t.height||t.bottom-t.top,t.width=t.width||t.right-t.left,e=e.split(" "),e[1]=e[1]||e[0],"auto"===e[0]&&(i.width=i.width||i.right-i.left,e[0]=n(t.left,t.width,i.left,i.width,"left","right",s)),"auto"===e[1]&&(i.height=i.height||i.bottom-i.top,e[1]=n(t.top,t.height,i.top,i.height,"top","bottom",s)),s||-1!==e.indexOf("center")||(e[t.height>t.width?0:1]="center");var l={left:("left"===e[0]?t.left:"right"===e[0]?t.right:t.width/2+t.left)-r.left,top:("top"===e[1]?t.top:"bottom"===e[1]?t.bottom:t.height/2+t.top)-r.top};return l},a=function(i){var t=i.data(_+"-options"),s=i.offsetParent()[0].getBoundingClientRect(),e=r(t.parent,t.target,t.from,t.corners,s),n=r(t.target,t.parent,t.to,t.corners,s);i.css({top:e.top-parseFloat(i.css("padding-top"))+"px",left:e.left-parseFloat(i.css("padding-left"))+"px",width:Math.sqrt(Math.pow(e.left-n.left,2)+Math.pow(e.top-n.top,2))+"px",transform:"rotate("+Math.atan2(n.top-e.top,n.left-e.left)+"rad)"})};if("destroy"===e)return this.each(function(s,e){var t=i(e),n=t.data(_+"-options");n||t.data(_)&&(t.data(_).remove(),t.removeData([_]))});if(!e||e===re)return this.each(function(s,e){var t=i(e),n=t.data(_+"-options");n?a(t):t.data(_)&&t.data(_).drawLine(re)});if(e.length){var o=i(e),t=i.extend({},s.drawLine.options,l);return this.each(function(r,h){var r,n,c,s,l=i(h),u=t.source?i(t.source,l)[0]:h,e=l.data(_)||i();for(t.replace&&(e.remove(),e=i()),u||(u=h),r=0;o.length>r;r++){for(c=o[r],n=0;e.length>n&&(s=e.eq(n),s.data(_+"-options").target!==c);n++);n===e.length&&(s=i('<hr class="ui-helper-reset ui-line">').data(_+"-options",{target:c,from:t.from,parent:u,to:t.to,corners:t.corners}).appendTo(l),e.push(s[0]),l.data(_,e)),a(s)}})}return this},s.drawLine.options={source:null,corners:!0,from:"center",to:"center",replace:!0},s.insertAt=function(e,s){var n,t=i(s);for(e>0&&(t=t.children().eq(e-1)),n=this.length-1;n>=0;n--)0>=e?t.prepend(this):t.after(this);return this},s.modal=function(n,t){return t=t===!0?400:t,this.each(function(h,o){var r=!0,a=i(o),s=a.data(qt);n===l?r=s===l:i.isBoolean(n)&&(r=n),r&&!s?(s=w(p,Xt+u+"ui-widget-overlay",t?"ui-widget-slow":null,t?Pi+":0":null),a.before(s).addClass(Xt).data(qt,s),i(X+d+Ci+e+at).addClass(c),t&&s.velocity("fadeIn",t)):!r&&s&&(t=t||s.hasClass("ui-widget-slow"),a.removeClass(Xt).removeData(qt),i(X+d+Ci+e+at).removeClass(c),t?s.velocity("fadeOut",t,function(){i(this).remove()}):s.remove())})},s.hoverable=function(t){return this.hover(function(){i(this).addClass(t||ti)},function(){i(this).removeClass(t||ti)})},s.family=function(){var e,t,n=i();for(e=0;this.length>e;e++)for(t=this[e];t!==o;t=t.parentNode)n.push(t);return n},s.common=function(t){if(t&&this.is(t))return this;var e,n=(t?this:this.eq(0)).family(),s=t?i(t):this.slice(1);for(e=0;s.length>e;e++)n=n.has(s.eq(e).family());return n},s.commonFirst=function(t){return this.common(t).first()},s.maxHeight=function(){var t,e=0;for(t=0;this.length>t;t++)e=Math.max(e,this.eq(t).height());return e},s.maxWidth=function(){var t,e=0;for(t=0;this.length>t;t++)e=Math.max(e,this.eq(t).width());return e},s.shuffle=function(t){return t===!1?this:[].shuffle.call(i(this))},s.imageLoad=function(t,e){return this.each(function(){var n=i(this),s=this.complete;s&&t.call(this,n),(!s||e)&&n[e?"on":"one"](xt,t.bind(this,n))})},function(){function h(t,e,i){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?i/100:1)]}function r(t,e){return parseInt(i.css(t,e),10)||0}function g(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:i.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}i.ui=i.ui||{};var a,e=Math.max,t=Math.abs,o=Math.round,u=/left|center|right/,d=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,c=/%$/,m=s.position;i.position={scrollbarWidth:function(){if(a!==l)return a;var n,e,t=i("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=t.children()[0];return i("body").append(t),n=s.offsetWidth,t.css("overflow","scroll"),e=s.offsetWidth,n===e&&(e=t[0].clientWidth),t.remove(),a=n-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===e||"auto"===e&&t.element[0].scrollWidth>t.width,r="scroll"===n||"auto"===n&&t.element[0].scrollHeight>t.height;return{width:r?i.position.scrollbarWidth():0,height:s?i.position.scrollbarWidth():0}},getWithinInfo:function(s){var t=i(s||n),e=i.isWindow(t[0]),r=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:e,isDocument:r,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:e?t.width():t.outerWidth(),height:e?t.height():t.outerHeight()}}},s.position=function(n){if(!n||!n.of)return m.apply(this,arguments);n=i.extend({},n);var v,s,a,c,l,y,x=i(n.of),S=i.position.getWithinInfo(n.within),_=i.position.getScrollInfo(S),b=(n.collision||"fit").split(" "),w={};return y=g(x),x[0].preventDefault&&(n.at="left top"),s=y.width,a=y.height,c=y.offset,l=i.extend({},c),i.each(["my","at"],function(){var e,i,t=(n[this]||"").split(" ");1===t.length&&(t=u.test(t[0])?t.concat(["center"]):d.test(t[0])?["center"].concat(t):["center","center"]),t[0]=u.test(t[0])?t[0]:"center",t[1]=d.test(t[1])?t[1]:"center",e=f.exec(t[0]),i=f.exec(t[1]),w[this]=[e?e[0]:0,i?i[0]:0],n[this]=[p.exec(t[0])[0],p.exec(t[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===n.at[0]?l.left+=s:"center"===n.at[0]&&(l.left+=s/2),"bottom"===n.at[1]?l.top+=a:"center"===n.at[1]&&(l.top+=a/2),v=h(w.at,s,a),l.left+=v[0],l.top+=v[1],this.each(function(){var M,m,d=i(this),f=d.outerWidth(),p=d.outerHeight(),C=r(this,"marginLeft"),y=r(this,"marginTop"),$=f+C+r(this,"marginRight")+_.width,T=p+y+r(this,"marginBottom")+_.height,u=i.extend({},l),g=h(w.my,d.outerWidth(),d.outerHeight());"right"===n.my[0]?u.left-=f:"center"===n.my[0]&&(u.left-=f/2),"bottom"===n.my[1]?u.top-=p:"center"===n.my[1]&&(u.top-=p/2),u.left+=g[0],u.top+=g[1],i.support.offsetFractions||(u.left=o(u.left),u.top=o(u.top)),M={marginLeft:C,marginTop:y},i.each(["left","top"],function(t,e){i.ui.position[b[t]]&&i.ui.position[b[t]][e](u,{targetWidth:s,targetHeight:a,elemWidth:f,elemHeight:p,collisionPosition:M,collisionWidth:$,collisionHeight:T,offset:[v[0]+g[0],v[1]+g[1]],my:n.my,at:n.at,within:S,elem:d})}),n.using&&(m=function(g){var i=c.left-u.left,l=i+s-f,r=c.top-u.top,h=r+a-p,o={target:{element:x,left:c.left,top:c.top,width:s,height:a},element:{element:d,left:u.left,top:u.top,width:f,height:p},horizontal:0>l?"left":i>0?"right":"center",vertical:0>h?"top":r>0?"bottom":"middle"};f>s&&t(i+l)<s&&(o.horizontal="center"),p>a&&t(r+h)<a&&(o.vertical="middle"),o.important=e(t(i),t(l))>e(t(r),t(h))?"horizontal":"vertical",n.using.call(this,g,o)}),d.offset(i.extend(u,{using:m}))})},i.ui.position={fit:{left:function(t,n){var h,a=n.within,s=a.isWindow?a.scrollLeft:a.offset.left,o=a.width,l=t.left-n.collisionPosition.marginLeft,i=s-l,r=l+n.collisionWidth-o-s;n.collisionWidth>o?i>0&&0>=r?(h=t.left+i+n.collisionWidth-o-s,t.left+=i-h):t.left=r>0&&0>=i?s:i>r?s+o-n.collisionWidth:s:i>0?t.left+=i:r>0?t.left-=r:t.left=e(t.left-l,t.left)},top:function(t,i){var h,o=i.within,s=o.isWindow?o.scrollTop:o.offset.top,a=i.within.height,l=t.top-i.collisionPosition.marginTop,n=s-l,r=l+i.collisionHeight-a-s;i.collisionHeight>a?n>0&&0>=r?(h=t.top+n+i.collisionHeight-a-s,t.top+=n-h):t.top=r>0&&0>=n?s:n>r?s+a-i.collisionHeight:s:n>0?t.top+=n:r>0?t.top-=r:t.top=e(t.top-l,t.top)}}}}();return i.makeObject=function(n,s){var t,i={},e=[].slice.call(arguments);for(t=0;e.length>t;t++)i[e[t++]]=e[t];return i},i.isString=function(t){return"string"==typeof t},i.isNumber=function(t){return"number"==typeof t},i.isBoolean=function(t){return"boolean"==typeof t},s.play=function(){return this.each(function(){try{this.play()}catch(t){}})},s.pause=function(){return this.each(function(){try{this.pause()}catch(t){}})},s.audio=function(){return i(this).each(function(){var t=i(this),n=t[0];t.data(L)||(n.load?n.load():safariComplain(),t.data(L,!0).on(et,function(){i(q+b+te).not(this).pause(),i(Zi).each(function(){try{i(this.contentDocument).find(q+b+te).pause()}catch(t){}}),i(this).closest(e+L).removeClass(gt).addClass(et)}).on(gt,function(){i(this).closest(e+L).removeClass(et).addClass(gt)}).on(Pn+e+L,function(){var t=i(this);t.closest(e+L).removeClass(et+u+gt),this.currentTime=0,this.pause(),t.siblings(yi).find("path").attr("d","M0 0")}).on(Ai+e+L,function(){var s=i(this),r=this.currentTime,l=this.duration,t=r/l,n=Math.range(0,360*t,359),a=n*Math.PI/180,h=153*Math.sin(a),c=-153*Math.cos(a),u=n>180?1:0,o=s.closest(e+Oe).children(e+Pe);t=100*t+Gt,o.children(g).css(W,t).text(A(r)),o.children(Vt).css(it,t),s.siblings(yi).find("path").attr("d","M 0 0"+(n>0?" v -153 A 153 153 1 "+u+" 1 "+h+" "+c+" z":""))}))}),this},s.loading=i.loading=function(a,o){var r=!0,t="ui-loading",s=i(this&&this!==i?this:"body"),e=s.data(t+"-element");return a===l?r=e===l:i.isBoolean(a)&&(r=a),r&&!e?s.data(t+"-element",e=w("div",t)).data(t+"-timeout",n.setTimeout(function(){e.appendTo(s).modal(!0)},o||100)):!r&&e&&(n.clearTimeout(s.data(t+"-timeout")),e.modal(!1).remove(),s.removeData([t+"-element",t+"-timeout"])),this},i.expr[":"].abc=function(e,s,n){if(!n[3])return i.hasData(e);var t=n[3].split("=");return 1===t.length?i(e).data(t[0])!==l:i(e).data(t[0])==t[1]},i.expr[":"].css=function(s,r,n){var t,e=i(s);return n[3]?(t=n[3].split("="),1===t.length?e.css(t[0])!==e.parent().css(t[0]):e.css(t[0])==t[1]):e.attr("style")},i.expr[":"].focusable=function(t){var e=t.nodeName.toLowerCase(),n=i.attr(t,"tabindex");return(/input|select|textarea|button|object/.test(e)||i.attr(t,Et)?!t.disabled:"a"===e||"area"===e?t.href||!isNaN(n):!isNaN(n))&&i(t)["area"===e?"parents":"closest"](":visible").length},a(C,"bind",function(e,t){t=[].slice.call(arguments),e=t.shift();var i=this,n=function(){var n=e;return i.apply(n,t.concat([].slice.call(arguments,t.length)).slice(0))};return n.bind=function(){return C.bind.apply(i,[].slice.call(arguments))},n}),a(y,"regex",function(i){var e,n,t=this.match(i);if(t){for(i.global?/(^|[^\\]|[^\\](\\\\)*)\([^?]/.test(i.source)&&(n=RegExp(i.source,(i.ignoreCase?"i":"")+(i.multiline?"m":""))):t.shift(),e=t.length;e--;)t[e]&&(n?t[e]=t[e].regex(n):t[e].search(/^[\-+]?\d*\.?\d+(?:e[\-+]?\d+)?$/i)>=0&&(t[e]=parseFloat(t[e])));if(!n&&1===t.length)return t[0]}return t}),a(y,"regexIndexOf",function(i,e){var t=this.substring(e||0).search(i);return t>=0?t+(e||0):t}),a(y,"unicode",function(){return this.replace(/[\u0100-\uffff]/g,function(t){return"\\u"+("0000"+t.charCodeAt().toString(16)).slice(-4)})}),a(h,"shuffle",function(){for(var i,e,t=this.length;--t>0;)e=Math.floor(Math.random()*(t+1)),i=this[e],this[e]=this[t],this[t]=i;return this}),a(h,"wrap",function(i,t,e){return i=i===l?"":i,t=t===l?"":t,e=e===l?"":e,t+this.join(e+i+t)+e}),a(h,"grow",function(t,s){var i=0,n=Math.abs(t),e=[].slice.call(arguments,1);if(n>this.length)for(e=e.length?e:[0];n>this.length;)i>=e.length&&(i=0),this.push(e[i++]);else t>0&&this.length>t&&this.splice(t,this.length-t);return this}),a(h,"dup",function(t){return t?JSON.parse(JSON.stringify(this)):this.slice(0)}),a(h,"unique",function(){for(var t=this.length;t-->0;)t>this.indexOf(this[t])&&this.splice(t,1);return this}),a(h,"indexOfCase",function(i,e){var t,n=this.length>>>0;for(e=e||0,i=i.toUpperCase(),t=Math.max(e>=0?e:n-Math.abs(e),0);n>t;t++)if(t in this&&this[t].toUpperCase()===i)return t;return-1}),a(h,"pushOnce",function(i){for(var t=0,e=arguments;e.length>t;t++)-1===this.indexOf(e[t])&&this.push(e[t])}),a(h,"remove",function(e){var t=this.indexOf(e);t>=0&&this.splice(t,1)}),a(h,"removeCase",function(e){var t=this.indexOfCase(e);t>=0&&this.splice(t,1)}),a(h,"clean",function(){for(var t=0,e=[];this.length>t;t++)(this[t]||0===this[t]||this[t]===!1)&&e.push(this[t]);return e}),a(h,"natcasesort",function(){return this.sort(function(o,a){o=(o+"").toLowerCase(),a=(a+"").toLowerCase();var t,e,n,s,i,h,r,c,u=o.length,d=a.length,l=function(e){var t=e.charCodeAt(0);return t>=48&&57>=t};for(n=s=0;u>n&&d>s;n++,s++){if(t=o.charAt(n),e=a.charAt(s),l(t)&&l(e)){for(i=h=0;l(t);t=o.charAt(++n))h++,i=10*i+parseInt(t,10);for(r=c=0;l(e);e=a.charAt(++s))c++,r=10*r+parseInt(e,10);t=i===r?h:i,e=i===r?c:r,n--,s--}if(e>t)return-1;if(t>e)return 1}return u===d?0:u>d?1:-1})}),a(v,"count",function(){var t,e=0;for(t in this)this.hasOwnProperty(t)&&e++;return e}),a(v,"setTree",function(t,s){var e=function(t,r,a,s){var n=r[s];if(r.length-1>s){if(i.isString(t[n])&&i.isNumber(r[s+1])?t[n]=[t[n]]:i.isPlainObject(t[n])||i.isArray(t[n])||(t[n]=i.isNumber(r[s+1])?[]:{}),!e(t[n],r,a,s+1)&&s>=1&&i.isEmptyObject(t[n]))return delete t[n],!1}else if(a!==t[n]){if(a===l){if(delete t[n],i.isArray(t))for(;t.length&&t[t.length-1]===l||null===t[t.length-1];)t.pop();return!1}t[n]=a}return!0};if(i.isPlainObject(t))for(var n in t)t.hasOwnProperty(n)&&e(this,i.explode(n),t[n],0);else e(this,i.explode(t),s,0);return this}),a(v,"getTree",function(n,s){for(var t=this,e=i.explode(n);e.length&&t!==l;)t=t[e.shift()];return t===l||null===t?s:t}),a(v,"hasTree",function(n){for(var t=this,e=i.explode(n);e.length&&t!==l;)t=t[e.shift()];return!(t===l||null===t)}),a(v,"indexOfX",function(e){var t;for(t in this)if(this.hasOwnProperty(t)&&this[t]===e)return t;return null}),a(v,"dup",function(){return JSON.parse(JSON.stringify(this))}),a(v,"clear",function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t];return this}),a(v,"bestMatch",function(n){var i,t,e=-1;for(i in this)t=parseInt(i),this.hasOwnProperty(i)&&t>e&&n>=t&&(e=t);return e>-1?this[e]:l}),a(v,"equals",function(e){var t;for(t in this)if(this.hasOwnProperty(t)){if(!e.hasOwnProperty(t)||typeof this[t]!=typeof e[t]||!this[t]!=!e[t])return!1;switch(typeof this[t]){case"object":if(null!==this[t]&&null!==e[t]&&(""+this[t].constructor!=""+e[t].constructor||!this[t].equals(e[t])))return!1;break;case"function":if(""+this[t]!=""+e[t])return!1;break;default:if(this[t]!==e[t])return!1}}for(t in e)if(!this.hasOwnProperty(t))return!1;return!0}),a(y,"ucfirst",function(){return this.charAt(0).toUpperCase()+this.slice(1)}),a(y,"text",function(){return this.replace(/<\/?(img|li|ul|ol|span|div)[^>]*>/gi,"")}),a(y,"reverse",function(){return this.split("").reverse().join("")}),a(y,"fromBBCode",function(){var n,s,e=this,a={"":/^\s+|\s+$/g," &nbsp;":/\s{2}/gi,"&bull;&nbsp;":/\[\*\]/gi,'<span class="abc-icon">$1</span>':/\[icon\s?([\s\S]*?)\]/gi,"<br />":/\s*\[br\]/gi,"<b>$1</b>":/\[b\]([\s\S]*?)\[\/b\]/gi,"<i>$1</i>":/\[i\]([\s\S]*?)\[\/i\]/gi,"<u>$1</u>":/\[u\]([\s\S]*?)\[\/u\]/gi,"<s>$1</s>":/\[s\]([\s\S]*?)\[\/s\]/gi,'<span class="abc-custom-$1">$2</span>':/\[style\s?([^\]]+)\]([\s\S]*?)\[\/style\s?\1\]/gi,'<span class="$1">$2</span>':/\[span\s([^\]]+)\]([\s\S]*?)\[\/span\]/gi,"<span>$1</span>":/\[span\]([\s\S]*?)\[\/span\]/gi,'<div class="$1">$2</div>':/\[div\s([^\]]+)\]([\s\S]*?)\[\/div\]/gi,"<div>$1</div>":/\[div\]([\s\S]*?)\[\/div\]/gi,'<dfn data-title="$1">$2</dfn>':/\[define ([^\]]*)\]([\s\S]*?)\[\/define\]/gi,'<div style="text-align:left;">$1</div>':/\[left\]([\s\S]*?)\[\/left\]/gi,'<div style="text-align:center;">$1</div>':/\[center\]([\s\S]*?)\[\/center\]/gi,'<div style="text-align:right;">$1</div>':/\[right\]([\s\S]*?)\[\/right\]/gi,"<sub>$1</sub>":/\[sub\]([\s\S]*?)\[\/sub\]/gi,"<sup>$1</sup>":/\[sup\]([\s\S]*?)\[\/sup\]/gi,'<a href="$1">$2</a>':/\[url=([^\]]+)\]([\s\S]*?)\[\/url\]/gi,'<a href="$1">$1</a>':/\[url\]([\s\S]*?)\[\/url\]/gi,'<span style="color:$1;">$2</span>':/\[color[= ](.*?)\]([\s\S]*?)\[\/color\]/gi,'<span style="background-color:$1;">$2</span>':/\[bg[= ](.*?)\]([\s\S]*?)\[\/bg\]/gi,'<span style="font-size:200%;">$1</span>':/\[xx-large\]([\s\S]*?)\[\/xx-large\]/gi,'<span style="font-size:150%;">$1</span>':/\[x-large\]([\s\S]*?)\[\/x-large\]/gi,'<span style="font-size:120%;">$1</span>':/\[large\]([\s\S]*?)\[\/large\]/gi,'<span style="font-size:88%;">$1</span>':/\[small\]([\s\S]*?)\[\/small\]/gi,
'<span style="font-size:75%;">$1</span>':/\[x-small\]([\s\S]*?)\[\/x-small\]/gi,'<span style="font-size:60%;">$1</span>':/\[xx-small\]([\s\S]*?)\[\/xx-small\]/gi,'<span class="codeStyle">$1</span>':/\[code\]([\s\S]*?)\[\/code\]/gi,'<span class="quoteStyle">$1</span>':/\[quote.*?\]([\s\S]*?)\[\/quote\]/gi};for(n in a)if(a.hasOwnProperty(n))for(s=-1;s!==e;e=e.replace(a[n],n))s=e;return e=e.replace(/\[table\]([\s\S]*?)\[\/table\]/gi,function(e,t){return"<table><tr>"+t.replace(/(^|\[tr\])(?!\[th|\[td)/gi,"$1[td]").replace(/\[(th|td)\s+(\d)+\]([\s\S]*?)(?=\[th|\[td|\[tr|$)/gi,'<$1 colspan="$2">$3</$1>').replace(/\[(th|td)\]([\s\S]*?)(?=\[th|\[td|\[tr|$)/gi,"<$1>$2</$1>").replace(/\[tr\]/gi,"</tr><tr>")+"</tr></table>"}).replace(/\[img\](.*?)\[\/img\]/gi,function(e,t){return'<img src="'+i.currentHandler[f](t)+'" />'}).replace(/\[img\s+(\S*?)\]/gi,function(e,t){return'<img src="'+i.currentHandler[f](/[^0-9]/.test(t)?t:"image_"+t)+'" />'}).replace(/\[audio\s+(wide\s+)?(\S*?)\]/gi,function(a,e,t){var n=/[^0-9]/.test(t)?t:"sound_"+t,s=i.currentHandler[f](n+".mp3")||i.currentHandler[f]("default.mp3"),r=i.currentHandler[f](n+".ogg")||i.currentHandler[f]("default.ogg");return'<span class="abc-audio-wrapper"><span class="abc-audio-button"><span class="abc-icon abc-audio">'+(e?"":'<svg viewBox="0 0 300 300"><path class="progress" transform="translate(150, 150)" d="M0 0"/></svg>')+'<audio preload="auto"><source src="'+s+'" type="audio/mpeg"/><source src="'+r+'" type="audio/ogg"/></audio></span></span>'+(e?'<span class="abc-audio-control"><hr/><span></span></span>':"")+"</span>"}).replace(/\[activitycount(!?)\]/gi,function(s,e){var n=i.currentHandler[S]([r,"pageNumber"],i.currentHandler.navigationTitle)||(i.currentHandler[t]([r,"letters"])?String.fromCharCode(97+i.currentHandler.countLeft(!1,!0)):i.currentHandler.countLeft(!0)+1+(e?"/":'</span>/<span class="abc-activity-total">')+i.currentHandler.countTotal(!0));return(e?"":'<span class="abc-activity-index">')+n+(e?"":"</span>")}).replace(/\[activity(!?)\]/gi,function(s,e){var n=i.currentHandler[S]([r,"pageNumber"],i.currentHandler.navigationTitle)||(i.currentHandler[t]([r,"letters"])?String.fromCharCode(97+i.currentHandler.countLeft(!1,!0)):i.currentHandler.countLeft(!0)+1);return(e?"":'<span class="abc-activity-index">')+n+(e?"":"</span>")}).replace(/\[activities(!?)\]/gi,function(e,t){return(t?"":'<span class="abc-activity-total">')+i.currentHandler.countTotal(!0)+(t?"":"</span>")}).replace(/\[(li|ol)\]([\s\S]*?)(<br \/>|<\/td>|$)/gi,function(s,t,n,e){var i="ol"===t?"ol":"ul";return"<"+i+' class="abc-list"><li>'+n.replace(RegExp("\\["+t+"\\]","gi"),"</li><li>")+("<br />"===e?"":e)+"</li></"+i+">"}).replace(/<\/ul><ul class="abc-list">/gi,"").replace(/<\/ol><ol class="abc-list">/gi,"")}),a(y,"toBBCode",function(){var t,e=this.trim(),i={"":/<\/?p>/gi,"[url=$1]$2[/url]":/<a [^>]*?href=\"([^\"]*?)\".*?>(.*?)<\/a>/gi,"[color=$1]$2[/color]":/<span [^>]*?style=\"color:\s?([^\";]+).*?\".*?>(.*?)<\/span>/gi,"[bg=$1]$2[/bg]":/<span [^>]*?style=\"background-color:\s?([^\";]+).*?\".*?>(.*?)<\/span>/gi,"[img]$1[/img]":/<img [^>]*?src=\"([^\"]*?)\".*?\/>/gi,"[img $1]":/<img [^>]*?src=\".*\/([^\/\"]*?)\.(gif|png|svg)\".*?\/>/gi,"[code]$1[/code]":/<span [^>]*?class=\"codeStyle\".*?>(.*?)<\/span>/gi,"[quote]$1[/quote]":/<blockquote.*?>(.*?)<\/blockquote>/gi,"[xx-small]$1[/xx-small]":/<span [^>]*?style=\"font-size:\s?60%;?\".*?>(.*?)<\/span>/gi,"[x-small]$1[/x-small]":/<span [^>]*?style=\"font-size:\s?75%;?\".*?>(.*?)<\/span>/gi,"[small]$1[/small]":/<span [^>]*?style=\"font-size:\s?88%;?\".*?>(.*?)<\/span>/gi,$1:/<span [^>]*?style=\"font-size:\s?100%;?\".*?>(.*?)<\/span>/gi,"[large]$1[/large]":/<span [^>]*?style=\"font-size:\s?120%;?\".*?>(.*?)<\/span>/gi,"[x-large]$1[/x-large]":/<span [^>]*?style=\"font-size:\s?150%;?\".*?>(.*?)<\/span>/gi,"[xx-large]$1[/xx-large]":/<span [^>]*?style=\"font-size:\s?200%;?\".*?>(.*?)<\/span>/gi,"[$1]$2[/$1]":/<(sub|sup)>(.*?)<\/\1>/gi,"[b]$2[/b]":/<(strong|b)>(.*?)<\/\1>/gi,"[i]$2[/i]":/<(em|i)>(.*?)<\/\1>/gi,"[u]$2[/u]":/<(u|span [^>]*?style=\"text-decoration:\s?underline;?\").*?>(.*?)<\/\1>/gi,"[activitycount]":/<span class="abc-activity-index">\d+<\/span>\/<span class="abc-activity-total">\d+<\/span>/gi,"[activity]":/<span class="abc-activity-index">\d+<\/span>/gi,"[activities]":/<span class="abc-activity-total">\d+<\/span>/gi,"[br]":/(\s*<br ?\/?>|\s*\n)/gi,'"':/&quot;/gi,"<":/&lt;/gi,">":/&gt;/gi,"&":/&amp;/gi," ":/&nbsp;|\u00a0/gi};for(t in i)i.hasOwnProperty(t)&&(e=e.replace(i[t],t));return e=e.replace(/<ul[^>]*>(.*?)<\/ul>/gi,function(e,t){return t.replace(/<li[^>]*>(.*?)<\/li>/gi,"[li]$1")+"[br]"}).replace(/<ol[^>]*>(.*?)<\/ol>/gi,function(e,t){return t.replace(/<li[^>]*>(.*?)<\/li>/gi,"[ol]$1")+"[br]"}).replace(/(\[br\]+)$/gi,"").replace(/<([a-z]+)>( |)<\/\1>/gi,"$2").replace(/<\/([a-z]+)>( |)<\1>/gi,"$2")}),a(Math,"range",function(t,e,i){return Math.max(t,Math.min(e,i))}),a(T,"range",function(t,e){return this>=Math.min(t,e)&&this<=Math.max(t,e)}),a(T,"addCommas",function(e){var t=i.isNumber(e)?this.toFixed(e):this,n=/^(.*\s)?(\d+)(\d{3}\b)/;for(t=""+t;n.test(t);)t=t.replace(n,"$1$2,$3");return t}),a(JSON,"shallow",function(e,i,n,s){var t=function(e,s){var i,n;if(e&&"object"==typeof e)if(Array.isArray(e))if(s>0)for(n=[],i=0;e.length>i;i++)n[i]=t(e[i],s-1);else n="[object Array]";else if(s>0){n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],s-1))}else n="[object Object]";else n=e;return n};return JSON.stringify(t(e,i||1),n,s)}),a(Date,"now",function(){return(new Date).getTime()}),a(Date,"format",function(t){return(new Date).format(t)}),a(O,"format",function(l){if(isNaN(this))return"Invalid Date";var t=this,i=t.getDate(),n=t.getDay(),a=t.getMonth(),o=t.getFullYear(),s=t.getHours(),g=t.getMinutes(),p=t.getSeconds(),v=t.getMilliseconds(),d=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=function(t){return 9>=t?"0"+t:""+t},c=!1,f=[],r=function(t,e){return t+" "+e+(1===t?"":"s")},m=function(f){if(c)return c=!1,f;switch(f){case"\\":return c=!0,"";case"d":return e(i);case"D":return u[n].substr(0,3);case"j":return i;case"l":return u[n];case"N":return n+1;case"S":return i%10===1&&11!==i?"st":i%10===2&&12!==i?"nd":i%10===3&&13!==i?"rd":"th";case"w":return n;case"R":var l=(new Date-t)/1e3;return 0>l?"In the Future":20>l?"Just Now":60>l?"Less than a Minute Ago":120>l?"About a Minute Ago":3600>l?r(Math.floor(l/60),"Minute")+" Ago":7200>l?"About an Hour Ago":43200>l?r(Math.floor(l/3600),"Hour")+" Ago":172800>l&&n===(new Date).getDay()?"Today":259200>l&&(6===n?0:n+1)===(new Date).getDay()?"Yesterday":604800>l?r(Math.floor(l/86400),"Day")+" Ago":2678400>l?r(Math.floor(l/604800),"Week")+" Ago":31536e3>l?r(Math.floor(l/2678400),"Month")+" Ago":r(Math.floor(l/31536e3),"Year")+" Ago";case"F":return d[a];case"m":return e(a+1);case"M":return d[a].substr(0,3);case"n":return a+1;case"L":return o%4===0&&o%100!==0||o%400===0?"1":"0";case"Y":return o;case"y":return(""+o).substr(2);case"a":return 12>s?"am":"pm";case"A":return 12>s?"AM":"PM";case"g":return s%12||12;case"G":return s;case"h":return e(s%12||12);case"H":return e(s);case"i":return e(g);case"s":return e(p);case"u":return v.substr(0,3);case"O":var h=t.getTimezoneOffset();return(0>h?"+":"-")+e(Math.abs(h/60))+"00";case"P":var h=t.getTimezoneOffset();return(0>h?"+":"-")+e(Math.abs(h/60))+":"+e(Math.abs(h%60));case"T":var m;return t.setMonth(0),m=t.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1"),t.setMonth(a),m;case"Z":return 60*-t.getTimezoneOffset();case"c":return t.format("Y-m-d\\TH:i:sP");case"r":return""+t;case"U":return t.getTime()/1e3;default:return f}};l=l||"c";for(var h=0;l.length>h;h++)f.push(m(l[h]));return f.join("")}),a(n,"atob",function(t){var o,c,h,l,a,s,r,n="",e=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");t.length>e;)l=i.indexOf(t.charAt(e++)),a=i.indexOf(t.charAt(e++)),s=i.indexOf(t.charAt(e++)),r=i.indexOf(t.charAt(e++)),o=l<<2|a>>4,c=(15&a)<<4|s>>2,h=(3&s)<<6|r,n+=String.fromCharCode(o),64!==s&&(n+=String.fromCharCode(c)),64!==r&&(n+=String.fromCharCode(h));return n}),a(n,"btoa",function(t){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var i,e,a=base64.PADCHAR,n=base64.ALPHA,r=base64.getbyte,s=[];t=""+t;var o=t.length-t.length%3;if(0===t.length)return t;for(i=0;o>i;i+=3)e=r(t,i)<<16|r(t,i+1)<<8|r(t,i+2),s.push(n.charAt(e>>18)),s.push(n.charAt(e>>12&63)),s.push(n.charAt(e>>6&63)),s.push(n.charAt(63&e));switch(t.length-o){case 1:e=r(t,i)<<16,s.push(n.charAt(e>>18)+n.charAt(e>>12&63)+a+a);break;case 2:e=r(t,i)<<16|r(t,i+1)<<8,s.push(n.charAt(e>>18)+n.charAt(e>>12&63)+n.charAt(e>>6&63)+a)}return s.join("")}),s.convertCSS=function(s,o){if(s===l||""===s)return 0;var t=parseFloat(s);switch(s.replace(/[^a-z%]/g,"").substr(0,4)){case It:t=0;break;case Yi:var e,r,a=s.replace(/^calc\(|\)$/g,"").split(" ");for(t=this.convertCSS(a.shift(),o);a.length;)e?(r=this.convertCSS(a.shift(),o),"+"===e?t+=r:"-"===e?t-=r:"*"===e?t*=r:"/"===e&&(t/=r),e=""):e=a.shift();break;case Y:t*=parseFloat(this.css(ue));break;case Gt:t*=this.parent()[o?it:G]()/100;break;case en:t*=parseFloat(i(ne).css(ue));break;case nn:t*=n.innerHeight/100;break;case yn:t*=n.innerWidth/100;break;case mn:t*=Math.min(n.innerWidth,n.innerHeight)/100;break;case fn:t*=Math.max(n.innerWidth,n.innerHeight)/100;break;case Zt:case"":break;default:return s}return t},w}),define("_const",!0);var Cs="Infuze Creator",Ni="asset",Ci=">",b=",",h=":",N="-",X="#",tn="http",e=".",Dn=e+"ttf",qn=e+"woff",$="=",Mi="handler",U="&nbsp;",_i="/",u=" ",ji="after",Vi="before",lt="type",_t="text",Qt="a",q="audio",mt="body",ss="br",oe="button",ds="checkbox",p="div",ce="h1",fe="h2",Jt="h3",Ui="header",Vt="hr",Zi="iframe",st="img",R="input",Cn="label",Si="link",Ot="script",wi="select",g="span",yi="svg",bi="table",gs="t"+mt,mi="textarea",Rt="td",Kt="th",Wi="time",qi=Kt+"ead",vt="tr",te="video",pi=lt+$+ds,z=R+"["+pi+"]",re="update",A="click",fi="change",Tn="contextmenu",Ln="dragstart",Pn="ended",Bn="error",le="fullscreenchange",Wn="keydown",xt="load",ui=xt+"ed",de="mouse",ft=de+"down",Mt=de+"move",xe=de+"up",vs="orientationchange",Se="resize",ci="scroll",Ai="time"+re,Me="touch",Le=Me+"end",Ct=Me+"move",Ut=Me+"start",Yi="calc",Y="em",It="none",Gt="%",Zt="px",en="r"+Y,nn="vh",fn="vmax",mn="vmin",yn="vw",pt="answers",Mn="copy",P="feedback",Ht="footer",ie="fullscreen",ne="html",ut="items",W="left",hi="limit_attempts",v="module",Tt=v+"s",is="_path",ns="random",ht="right",r="settings",kt="targets",i="theme",ps="You scored ",dt="attempts",ms="colour",oi="common",ge="count",Ss="data",ri="dialog",Oi="false",ve="first",Ii="get",Fi="goto",zi="help",si="index",I="marked",ni="nav",we=ni+"igate",Ji="order",Ie="pass",Xi="parent",Nt="persist",Bt="points",Gi="print",Ce="refresh",Te="reset",Ae="reveal",k="score",sn="set"+Ie,ke="showPath",Qe="startup",Ze="state",Wt="submit",_n="total",Yt=Wi+"r",Os="true",Ve="viewed",Ue="js",Xe="min"+e+Ue,Ti="java",Rn="fullscreenElement",Hn="exitFullscreen",zn="requestFullscreen",En="absolute",Je="top",At="auto",je="background",Z=je+"-image",Jn="block",We="bold",Gn="border",Zn="box-shadow",es="center",tt="checked",B="color",rt=je+N+B,bt=Gn+N+B,as="complete",hs="content",Et=hs+"editable",us="disable",c=us+"d",fs="fadeIn",Be="fadeOut",C="font",V=C+"-family",ue=C+"-size",bs=C+"-style",ys=C+"-weight",m="hidden",G="height",_s="hover",$t="id",Ts="_"+$t,$s="inline",$i=$s+"-"+Jn,M="invisible",Ee="italic",Li="margin",ki=Li+N+Je,Ne="normal",Pi="opacity",ze="overflow",Ri=ze+"-x",Hi=ze+"-y",et="play",gt="pause",Ei="position",Bi="src",Di="style",He="visibility",it="width",J="z-index",O="max",Re=O+N,D="min",Fe=Re+G,ii=Re+it,Ki="star",d="abc",a=d+N,Qi=a+"activities",L=a+q,Pe=L+"-control",Oe=L+"-wrapper",$e=a+"background",rn=$e+N,an=a+"box",on=an+N,ln=a+oe,hn=a+oe+"s",cn=a+"checkbox",un=a+"close",dn=a+ms,yt=dn+N,pn=yt+1,gn=a+"complete",Ft=a+"content",vn=Ft+"-box",bn=a+Mn,E=a+"cross",Lt=a+"dfn-popup",wn=a+ri,Sn=a+c,Q=a+P,at=a+Ht,De=a+ie,wt=a+Ui,$n=a+"icon",On=a+"menu",An=a+v,qe=a+"nav",kn=a+"parent",In=a+"select",K=In+"ed",ct=a+"show",Ye=a+"slideout",H=a+"tick",T=a+"visible",Nn=a+"zebra",ot="ui-",Xt=ot+"front",_=ot+"line",jt=ot+"loading",qt=ot+"modal",jn=ot+"state-",ti=jn+_s,Yn="group",Xn="link",ei="multiple",Vn="rate",Kn="single",zt="-1",f="-2",Qn="-3",ts="-4",be="-5",me="-6",ai="-7",pe="-a",St="-b",j="-k",t="-l",ls="-m",_e="-n",nt="-o",di="-p",S="-q",ee="-r",gi="-s",Pt="-t",vi="-u",ye="-v",x="-w",xi="-x",F="-y",ws="-z",y="-A",w="-B",Ms="-C",se="-D",ae="-E",he="-F",s="-G";!function(e){"use strict";function w(t,i,n){"addEventListener"in e?t.addEventListener(i,n,!1):"attachEvent"in e&&t.attachEvent("on"+i,n)}function ot(t,i,n){"removeEventListener"in e?t.removeEventListener(i,n,!1):"detachEvent"in e&&t.detachEvent("on"+i,n)}function ut(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vt(r){var e,i,s,t=null,n=0,a=function(){n=S(),t=null,s=r.apply(e,i),t||(e=i=null)};return function(){var o=S();n||(n=o);var l=g-(o-n);return e=this,i=arguments,0>=l||l>g?(t&&(clearTimeout(t),t=null),n=o,s=r.apply(e,i),t||(e=i=null)):t||(t=setTimeout(a,l)),s}}function t(t){}function d(t){}function yt(){wt(),t("Initialising iFrame ("+location.href+")"),St(),Lt(),C("background",tt),C("padding",at),It(),q(),lt(),pt(),ft(),et(),v=Pt(),u("init","Init message from host page"),R()}function wt(){function e(t){return"true"===t?!0:!1}var t=D.substr(X).split(":");T=t[0],I=void 0!==t[1]?+t[1]:I,b=void 0!==t[2]?e(t[2]):b,J=void 0!==t[3]?e(t[3]):J,c=void 0!==t[4]?+t[4]:c,a=void 0!==t[6]?e(t[6]):a,_=t[7],n=void 0!==t[8]?t[8]:n,tt=t[9],at=t[10],A=void 0!==t[11]?+t[11]:A,v.enable=void 0!==t[12]?e(t[12]):!1,$=void 0!==t[13]?t[13]:$,s=void 0!==t[14]?t[14]:s}function St(){function i(){var i=e.iFrameResizer;t("Reading data from page: "+JSON.stringify(i)),F="messageCallback"in i?i.messageCallback:F,R="readyCallback"in i?i.readyCallback:R,m="targetOrigin"in i?i.targetOrigin:m,n="heightCalculationMethod"in i?i.heightCalculationMethod:n,s="widthCalculationMethod"in i?i.widthCalculationMethod:s}"iFrameResizer"in e&&Object===e.iFrameResizer.constructor&&i(),t("TargetOrigin for parent set to: "+m)}function _t(e,t){return-1!==t.indexOf("-")&&(d("Negative CSS value ignored for "+e),t=""),t}function C(i,e){void 0!==e&&""!==e&&"null"!==e&&(o.body.style[i]=e,t("Body "+i+' set to "'+e+'"'))}function Lt(){void 0===_&&(_=I+"px"),C("margin",_t("margin",_))}function pt(){o.documentElement.style.height="",o.body.style.height="",t('HTML & body height set to "auto"')}function i(i){function n(){u(i.eventName,i.eventType)}var s={add:function(t){w(e,t,n)},remove:function(t){ot(e,t,n)}};i.eventNames&&Array.prototype.map?(i.eventName=i.eventNames[0],i.eventNames.map(s[i.method])):s[i.method](i.eventName),t(ut(i.method)+" event listener: "+i.eventType)}function dt(t){i({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),i({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),i({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),i({method:t,eventType:"Input",eventName:"input"}),i({method:t,eventType:"Mouse Up",eventName:"mouseup"}),i({method:t,eventType:"Mouse Down",eventName:"mousedown"}),i({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),i({method:t,eventType:"Touch Start",eventName:"touchstart"}),i({method:t,eventType:"Touch End",eventName:"touchend"}),i({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),i({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),i({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),i({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),i({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===$&&i({method:t,eventType:"IFrame Resized",eventName:"resize"})}function K(e,i,s,n){return i!==e&&(e in s||(d(e+" is not a valid option for "+n+"CalculationMethod."),e=i),t(n+' calculation method set to "'+e+'"')),e}function q(){n=K(n,O,l,"height")}function lt(){s=K(s,rt,h,"width")}function et(){!0===a?(dt("add"),mt()):t("Auto Resize disabled")}function Tt(){t("Disable outgoing messages"),G=!1}function Ot(){t("Remove event listener: Message"),ot(e,"message",Y)}function At(){null!==M&&M.disconnect()}function E(){dt("remove"),At(),clearInterval(j)}function kt(){Tt(),Ot(),!0===a&&E()}function It(){var t=o.createElement("div");t.style.clear="both",t.style.display="block",o.body.appendChild(t)}function Pt(){function s(){return{x:void 0!==e.pageXOffset?e.pageXOffset:o.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:o.documentElement.scrollTop}}function a(i){var t=i.getBoundingClientRect(),e=s();return{x:parseInt(t.left,10)+parseInt(e.x,10),y:parseInt(t.top,10)+parseInt(e.y,10)}}function i(i){function l(n){var i=a(n);t("Moving to in page link (#"+e+") at x: "+i.x+" y: "+i.y),r(i.y,i.x,"scrollToOffset")}var e=i.split("#")[1]||i,n=decodeURIComponent(e),s=o.getElementById(n)||o.getElementsByName(n)[0];void 0!==s?l(s):(t("In page link (#"+e+") not found in iFrame, so sending to parent"),r(0,0,"inPageLink","#"+e))}function n(){""!==location.hash&&"#"!==location.hash&&i(location.href)}function l(){function t(t){function e(t){t.preventDefault(),i(this.getAttribute("href"))}"#"!==t.getAttribute("href")&&w(t,"click",e)}Array.prototype.forEach.call(o.querySelectorAll('a[href^="#"]'),t)}function h(){w(e,"hashchange",n)}function c(){setTimeout(n,L)}function u(){Array.prototype.forEach&&o.querySelectorAll?(t("Setting up location.hash handlers"),l(),h(),c()):d("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return v.enable?u():t("In page linking not enabled"),{findTarget:i}}function ft(){t("Enable public methods"),$t.parentIFrame={autoResize:function(t){return!0===t&&!1===a?(a=!0,et()):!1===t&&!0===a&&(a=!1,E()),a},close:function(){r(0,0,"close"),kt()},getId:function(){return T},getPageInfo:function(t){"function"==typeof t?(H=t,r(0,0,"pageInfo")):(H=t,r(0,0,"pageInfoStop"))},moveToAnchor:function(t){v.findTarget(t)},reset:function(){W("parentIFrame.reset")},scrollTo:function(t,e){r(e,t,"scrollTo")},scrollToOffset:function(t,e){r(e,t,"scrollToOffset")},sendMessage:function(t,e){r(0,0,"message",JSON.stringify(t),e)},setHeightCalculationMethod:function(t){n=t,q()},setWidthCalculationMethod:function(t){s=t,lt()},setTargetOrigin:function(e){t("Set targetOrigin: "+e),m=e},size:function(t,e){var i=""+(t?t:"")+(e?","+e:"");u("size","parentIFrame.size("+i+")",t,e)}}}function U(){0!==c&&(t("setInterval: "+c+"ms"),j=setInterval(function(){u("interval","setInterval: "+c)},Math.abs(c)))}function gt(){function p(e){function i(e){!1===e.complete&&(t("Attach listeners to "+e.src),e.addEventListener("load",a,!1),e.addEventListener("error",l,!1),n.push(e))}"attributes"===e.type&&"src"===e.attributeName?i(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),i)}function d(t){n.splice(n.indexOf(t),1)}function s(e){t("Remove listeners from "+e.src),e.removeEventListener("load",a,!1),e.removeEventListener("error",l,!1),d(e)}function r(t,e,i){s(t.target),u(e,i+": "+t.target.src,void 0,void 0)}function a(t){r(t,"imageLoad","Image loaded")}function l(t){r(t,"imageLoadFailed","Image load failed")}function h(t){u("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(p)}function c(){var e=o.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return i=new f(h),t("Create body MutationObserver"),i.observe(e,n),i}var n=[],f=e.MutationObserver||e.WebKitMutationObserver,i=c();return{disconnect:function(){"disconnect"in i&&(t("Disconnect body MutationObserver"),i.disconnect(),n.forEach(s))}}}function mt(){var i=0>c;e.MutationObserver||e.WebKitMutationObserver?i?U():M=gt():(t("MutationObserver not supported in this browser!"),U())}function k(i,t){function n(e){var i=/^\d+(px)?$/i;if(i.test(e))return parseInt(e,Q);var n=t.style.left,s=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft,t.style.left=n,t.runtimeStyle.left=s,e}var e=0;return t=t||o.body,"defaultView"in o&&"getComputedStyle"in o.defaultView?(e=o.defaultView.getComputedStyle(t,null),e=null!==e?e[i]:0):e=n(t.currentStyle[i]),parseInt(e,Q)}function bt(e){e>g/2&&(g=2*e,t("Event throttle increased to "+g+"ms"))}function P(a,n){for(var o=n.length,s=0,r=0,l=ut(a),e=S(),i=0;o>i;i++)s=n[i].getBoundingClientRect()[a]+k("margin"+l,n[i]),s>r&&(r=s);return e=S()-e,t("Parsed "+o+" HTML elements"),t("Element position calculated in "+e+"ms"),bt(e),r}function y(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function nt(i,t){function n(){return d("No tagged elements ("+t+") found on page"),f}var e=o.querySelectorAll("["+t+"]");return 0===e.length?n():P(i,e)}function st(){return o.querySelectorAll("body *")}function Mt(e,g,c,o){function u(){f=a,p=i,r(f,p,e)}function d(){function t(t,e){var i=Math.abs(t-e)<=A;return!i}return a=void 0!==c?c:l[n](),i=void 0!==o?o:h[s](),t(f,a)||b&&t(p,i)}function x(){return!(e in{init:1,interval:1,size:1})}function m(){return n in V||b&&s in V}function v(){t("No change in size detected")}function y(){x()&&m()?W(g):e in{interval:1}||v()}var a,i;d()||"init"===e?(ct(),u()):y()}function u(e,i,n,s){function r(){e in{reset:1,resetPage:1,init:1}||t("Trigger event: "+i)}function a(){return x&&e in xt}a()?t("Trigger event cancelled: "+e):(r(),Ct(e,i,n,s))}function ct(){x||(x=!0,t("Trigger event lock on")),clearTimeout(it),it=setTimeout(function(){x=!1,t("Trigger event lock off"),t("--")},L)}function N(t){f=l[n](),p=h[s](),r(f,p,t)}function W(e){var i=n;n=O,t("Reset trigger event: "+e),ct(),N("reset"),n=i}function r(n,s,r,i,e){function a(){void 0===e?e=m:t("Message targetOrigin: "+e)}function o(){var o=n+":"+s,a=T+":"+o+":"+r+(void 0!==i?":"+i:"");t("Sending message to host page ("+a+")"),Z.postMessage(z+a,e)}!0===G&&(a(),o())}function Y(i){function h(){return z===(""+i.data).substr(0,X)}function l(){D=i.data,Z=i.source,yt(),ht=!1,setTimeout(function(){B=!1},L)}function c(){B?t("Page reset ignored by init"):(t("Page size reset by host page"),N("resetPage"))}function g(){u("resizeParent","Parent window requested size check")}function o(){var t=n();v.findTarget(t)}function s(){return i.data.split("]")[1].split(":")[0]}function n(){return i.data.substr(i.data.indexOf(":")+1)}function a(){return"iFrameResize"in e}function f(){var e=n();t("MessageCallback called from parent: "+e),F(JSON.parse(e)),t(" --")}function p(){var e=n();t("PageInfoFromParent called from parent: "+e),H(JSON.parse(e)),t(" --")}function r(){return i.data.split(":")[2]in{true:1,false:1}}function m(){switch(s()){case"reset":c();break;case"resize":g();break;case"moveToAnchor":o();break;case"message":f();break;case"pageInfo":p();break;default:a()||r()||d("Unexpected message ("+i.data+")")}}function b(){!1===ht?m():r()?l():t('Ignored message of type "'+s()+'". Received before initialization.')}h()&&b()}function Ft(){"loading"!==o.readyState&&e.parent.postMessage("[iFrameResizerChild]Ready","*")}var a=!0,Q=10,tt="",I=0,_="",M=null,at="",b=!1,xt={resize:1,click:1},L=128,ht=!0,f=1,O="bodyOffset",n=O,B=!0,D="",v={},c=32,j=null,J=!1,z="[iFrameSizer]",X=z.length,T="",V={max:1,min:1,bodyScroll:1,documentElementScroll:1},$="child",G=!0,Z=e.parent,m="*",A=0,x=!1,it=null,g=16,p=1,rt="scroll",s=rt,$t=e,F=function(){d("MessageCallback function not defined")},R=function(){},H=function(){},S=Date.now||function(){return(new Date).getTime()},l={bodyOffset:function(){return o.body.offsetHeight+k("marginTop")+k("marginBottom")},offset:function(){return l.bodyOffset()},bodyScroll:function(){return o.body.scrollHeight},documentElementOffset:function(){return o.documentElement.offsetHeight},documentElementScroll:function(){return o.documentElement.scrollHeight},max:function(){return Math.max.apply(null,y(l))},min:function(){return Math.min.apply(null,y(l))},grow:function(){return l.max()},lowestElement:function(){return Math.max(l.bodyOffset(),P("bottom",st()))},taggedElement:function(){return nt("bottom","data-iframe-height")}},h={bodyScroll:function(){return o.body.scrollWidth},bodyOffset:function(){return o.body.offsetWidth},documentElementScroll:function(){return o.documentElement.scrollWidth},documentElementOffset:function(){return o.documentElement.offsetWidth},scroll:function(){return Math.max(h.bodyScroll(),h.documentElementScroll())},max:function(){return Math.max.apply(null,y(h))},min:function(){return Math.min.apply(null,y(h))},rightMostElement:function(){return P("right",st())},taggedElement:function(){return nt("right","data-iframe-width")}},Ct=vt(Mt);w(e,"message",Y),Ft()}(n||{}),define("rate/rate.single",[xs],function(t){return t}),define("rate/rate",[Dt,li,Ke],function(a,i,o){var n=o[ai](Vn);return n[Pt]=function(){this.proto[Pt].call(this,Kn),this.content.on(fi,z,this.onChange.bind(this)).parent().css(it,"95%")},n.onChange=function(i){var h=a(i.target).closest(vt).find(R);i.target.checked&&this._type!==ei&&h.not(i.target).prop(tt,!1);var c=this[t]([kt]),e=[],r=[],n=[],l=this.$rows;l.each(function(t){n[t]=[],a(this).find(z).each(function(i){n[t][i]=this.checked,this.checked&&(e[t]=c[i])})}),this.$tbody.children().each(function(t){r[t]=l.index(this)}),o.api(fi,this.baseId,e),this[s]({progress:Math.min(1,e.length/this.$rows.length),response:e,"state.checked":e.length?n:[],"state.order":e.length?r:[]}).initList()},n[ye]=function(r){var t,i=this[s](Ze+e+tt)||[],n=this[s](Ze+e+Ji)||[];if(i.length)for(this.$rows.each(function(t){a(this).find(z).each(function(e){this.checked=i[t][e]})}),t=0;n.length>t;t++)this.$rows.eq(n[t]).appendTo(this.$tbody)},n.checkReset=function(){this.proto.checkReset.call(this,!this.$rows.find(R+":"+tt).length)},n.checkSubmit=function(){this.proto.checkSubmit.call(this,this.$rows.length!==this.$rows.find(R+":"+tt).closest(vt).length)},n[St]=function(){this.proto[St].apply(this,arguments),this.$rows=a();var n,o,b,y,h,l,m,d=0,v=this._type!==ei,c=[],x=this[t]([ut]),p=this[t]([kt]),w=this[t]([r,"images"]);for(b=i(bi,i(qi,y=i(vt,i(Kt,$+this[S]([_t],U)))),this.$tbody=i(gs,Nn)),n=0;p.length>n;n++)i(Rt,$+this[S]([kt,n],U)).appendTo(y);for(n=0;x.length>n;n++){for(h=i(vt,i(Kt,$+this[S]([ut,n],U),w?Z+":url('"+this[f]("item_"+(n+1))+"')":null)).data($t,n).appendTo(this.$tbody),m=h.text(),this.$rows.push(h[0]),v&&(d+=Math.max.apply(Math,this[t](pt+e+n,[0]))),o=0;p.length>o;o++)v||(d+=parseInt(this[t](pt+e+n+e+o,0))),i(Rt,i(R,pi),i(Cn,i(g,cn)).on(A,function(){a(this).prev().click()})).appendTo(h);for(l=this[t]([pt,n]),l=a.isArray(l)?l:[l],o=0;l.length>o;o++)l[o]&&(c[n]=(c[n]?c[n]+", ":m+": ")+p[o]+u+$+u+l[o])}b.appendTo(this.content),this[s]({answers:c,max:d}),this[xi](!0)},n[F]=function(t){t&&this.content.autoTextSize(this._autoSize)},n[xi]=function(e){e&&this[t]([r,ns])&&this.$tbody.children().shuffle().appendTo(this.$tbody)},n[me]=function(){a(z,this.content).prop(tt,!1).prop(c,!1)},n[se]=function(){var i,n,s,e,r=this[t]([ut]).length;for(i=0;r>i;i++)for(e=this[t]([pt,i],-1),e=a.isArray(e)?e:[e],s=this.$tbody.find(":abc(id="+i+")"),n=0;e.length>n;n++)s.find(z+":eq("+n+")").next().toggleClass(ct,!!e[n]);this.$tbody.find(z).prop(c,!1).prop(tt,!1),a("."+H+",."+E,this.context).removeClass(H+u+E)},n[be]=function(){var e,l,i,h,n=[],r=0,u=this[s](O),d=this[t]([kt]),f=this[t]([ut]).length;for(e=0;f>e;e++)i=this[t]([pt,e],-1),i=a.isArray(i)?i:[i],l=this.$tbody.find(":abc(id="+e+")"),h=l.text(),l.find(z).each(function(t){if(this.checked){var o=a(this).next(),s=d[t];i[t]?(o.addClass(H),r+=parseInt(i[t])):(o.addClass(E),s="(("+s+"))"),n[e]=(n[e]?n[e]+", ":h+": ")+s}});this.$tbody.find(z).prop(c,!0),o.loadState||(this[s]({score:r,progress:1,response:n}),o.api(k,this.baseId,r,u,n)!==!1&&this[pe](r,u))},n}),require(["velocity-ui","velocity","modernizr","jquery","api","activity","common","_const","iframeResizer","rate/rate.single","rate/rate"])}(document,window);